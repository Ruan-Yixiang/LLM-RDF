{"version":3,"file":"ReglElements.js","names":["ReglElements","reGl","options","elements","data","usage","type","count","usageMap","gl","STATIC_DRAW","dataTypeMap","UNSIGNED_BYTE","subdata","destroy"],"sources":["../../src/webgl/ReglElements.ts"],"sourcesContent":["import {\n  gl,\n  IElements,\n  IElementsInitializationOptions,\n} from '@antv/g-webgpu-core';\nimport regl from 'regl';\nimport { dataTypeMap, usageMap } from './constants';\n\n/**\n * @see https://github.com/regl-project/regl/blob/gh-pages/API.md#elements\n */\nexport default class ReglElements implements IElements {\n  private elements: regl.Elements;\n\n  constructor(reGl: regl.Regl, options: IElementsInitializationOptions) {\n    const { data, usage, type, count } = options;\n\n    this.elements = reGl.elements({\n      data,\n      usage: usageMap[usage || gl.STATIC_DRAW],\n      type: dataTypeMap[type || gl.UNSIGNED_BYTE] as\n        | 'uint8'\n        | 'uint16'\n        | 'uint32',\n      count,\n    });\n  }\n\n  public get() {\n    return this.elements;\n  }\n\n  public subData({\n    data,\n  }: {\n    data: number[] | number[][] | Uint8Array | Uint16Array | Uint32Array;\n  }) {\n    this.elements.subdata(data);\n  }\n\n  public destroy() {\n    this.elements.destroy();\n  }\n}\n"],"mappings":";;;;;;;;;AAAA;AAMA;AAEA;AACA;AACA;AAFA,IAGqBA,YAAY;EAG/B,sBAAYC,IAAe,EAAEC,OAAuC,EAAE;IAAA;IAAA,KAF9DC,QAAQ;IAGd,IAAQC,IAAI,GAAyBF,OAAO,CAApCE,IAAI;MAAEC,KAAK,GAAkBH,OAAO,CAA9BG,KAAK;MAAEC,IAAI,GAAYJ,OAAO,CAAvBI,IAAI;MAAEC,KAAK,GAAKL,OAAO,CAAjBK,KAAK;IAEhC,IAAI,CAACJ,QAAQ,GAAGF,IAAI,CAACE,QAAQ,CAAC;MAC5BC,IAAI,EAAJA,IAAI;MACJC,KAAK,EAAEG,mBAAQ,CAACH,KAAK,IAAII,eAAE,CAACC,WAAW,CAAC;MACxCJ,IAAI,EAAEK,sBAAW,CAACL,IAAI,IAAIG,eAAE,CAACG,aAAa,CAG9B;MACZL,KAAK,EAALA;IACF,CAAC,CAAC;EACJ;EAAC;IAAA;IAAA,OAED,eAAa;MACX,OAAO,IAAI,CAACJ,QAAQ;IACtB;EAAC;IAAA;IAAA,OAED,uBAIG;MAAA,IAHDC,IAAI,QAAJA,IAAI;MAIJ,IAAI,CAACD,QAAQ,CAACU,OAAO,CAACT,IAAI,CAAC;IAC7B;EAAC;IAAA;IAAA,OAED,mBAAiB;MACf,IAAI,CAACD,QAAQ,CAACW,OAAO,EAAE;IACzB;EAAC;EAAA;AAAA;AAAA"}