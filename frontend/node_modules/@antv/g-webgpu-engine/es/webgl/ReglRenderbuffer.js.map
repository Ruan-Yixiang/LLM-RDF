{"version":3,"file":"ReglRenderbuffer.js","names":["formatMap","ReglRenderbuffer","reGl","options","renderbuffer","width","height","format","destroy","resize"],"sources":["../../src/webgl/ReglRenderbuffer.ts"],"sourcesContent":["import {\n  IRenderbuffer,\n  IRenderbufferInitializationOptions,\n} from '@antv/g-webgpu-core';\nimport regl from 'regl';\nimport { formatMap } from './constants';\n\n/**\n * adaptor for regl.Renderbuffer\n * @see https://github.com/regl-project/regl/blob/gh-pages/API.md#renderbuffers\n */\nexport default class ReglRenderbuffer implements IRenderbuffer {\n  private renderbuffer: regl.Renderbuffer;\n\n  constructor(reGl: regl.Regl, options: IRenderbufferInitializationOptions) {\n    const { width, height, format } = options;\n    this.renderbuffer = reGl.renderbuffer({\n      width,\n      height,\n      format: formatMap[format] as regl.RenderbufferFormat,\n    });\n  }\n\n  public get() {\n    return this.renderbuffer;\n  }\n\n  public destroy() {\n    this.renderbuffer.destroy();\n  }\n\n  public resize({ width, height }: { width: number; height: number }) {\n    this.renderbuffer.resize(width, height);\n  }\n}\n"],"mappings":";;AAKA,SAASA,SAAS,QAAQ,aAAa;;AAEvC;AACA;AACA;AACA;AAHA,IAIqBC,gBAAgB;EAGnC,0BAAYC,IAAe,EAAEC,OAA2C,EAAE;IAAA;IAAA,KAFlEC,YAAY;IAGlB,IAAQC,KAAK,GAAqBF,OAAO,CAAjCE,KAAK;MAAEC,MAAM,GAAaH,OAAO,CAA1BG,MAAM;MAAEC,MAAM,GAAKJ,OAAO,CAAlBI,MAAM;IAC7B,IAAI,CAACH,YAAY,GAAGF,IAAI,CAACE,YAAY,CAAC;MACpCC,KAAK,EAALA,KAAK;MACLC,MAAM,EAANA,MAAM;MACNC,MAAM,EAAEP,SAAS,CAACO,MAAM;IAC1B,CAAC,CAAC;EACJ;EAAC;IAAA;IAAA,OAED,eAAa;MACX,OAAO,IAAI,CAACH,YAAY;IAC1B;EAAC;IAAA;IAAA,OAED,mBAAiB;MACf,IAAI,CAACA,YAAY,CAACI,OAAO,EAAE;IAC7B;EAAC;IAAA;IAAA,OAED,sBAAoE;MAAA,IAApDH,KAAK,QAALA,KAAK;QAAEC,MAAM,QAANA,MAAM;MAC3B,IAAI,CAACF,YAAY,CAACK,MAAM,CAACJ,KAAK,EAAEC,MAAM,CAAC;IACzC;EAAC;EAAA;AAAA;AAAA,SAtBkBL,gBAAgB"}