{"remainingRequest":"D:\\develop_ryx\\foundryGPT\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\develop_ryx\\foundryGPT\\frontend\\src\\components\\graph\\behavior\\delete-item.js","dependencies":[{"path":"D:\\develop_ryx\\foundryGPT\\frontend\\src\\components\\graph\\behavior\\delete-item.js","mtime":1687240266000},{"path":"D:\\develop_ryx\\foundryGPT\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\develop_ryx\\foundryGPT\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgKEc2ID0+IHsKICBHNi5yZWdpc3RlckJlaGF2aW9yKCdkZWxldGUtaXRlbScsIHsKICAgIGdldEV2ZW50cygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICAna2V5ZG93bic6ICdvbktleWRvd24nCiAgICAgIH07CiAgICB9LAogICAgc2hvdWxkQmVnaW4oZSkgewogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0sCiAgICBvbktleWRvd24oZSkgewogICAgICBjb25zdCB7CiAgICAgICAgZ3JhcGgKICAgICAgfSA9IHRoaXM7CiAgICAgIGlmIChncmFwaC5jZmcuY2FudmFzLmNmZy5lbC5nZXRBdHRyaWJ1dGUoJ2lzRm9jdXNlZCcpICE9PSAndHJ1ZScpIHJldHVybjsKICAgICAgaWYgKCF0aGlzLnNob3VsZEJlZ2luKGUpKSByZXR1cm47CiAgICAgIGlmIChlLmtleUNvZGUgPT09IDggfHwgZS5rZXlDb2RlID09PSA0NikgewogICAgICAgIGNvbnN0IG5vZGVzID0gZ3JhcGguZmluZEFsbEJ5U3RhdGUoJ25vZGUnLCAnbm9kZVN0YXRlOnNlbGVjdGVkJyk7CiAgICAgICAgaWYgKG5vZGVzICYmIG5vZGVzLmxlbmd0aCkgewogICAgICAgICAgY29uc3QgJG5vZGUgPSBub2Rlc1swXS5nZXRDb250YWluZXIoKS5nZXQoJ2l0ZW0nKTsKICAgICAgICAgIGdyYXBoLmVtaXQoJ2JlZm9yZS1ub2RlLXJlbW92ZWQnLCB7CiAgICAgICAgICAgIHRhcmdldDogJG5vZGUsCiAgICAgICAgICAgIGNhbGxiYWNrKGNvbmZpcm0pIHsKICAgICAgICAgICAgICBpZiAoY29uZmlybSkgewogICAgICAgICAgICAgICAgZ3JhcGgucmVtb3ZlKCRub2RlKTsKICAgICAgICAgICAgICAgIGdyYXBoLnNldCgnYWZ0ZXItbm9kZS1zZWxlY3RlZCcsIFtdKTsKICAgICAgICAgICAgICAgIGdyYXBoLmVtaXQoJ2FmdGVyLW5vZGUtc2VsZWN0ZWQnKTsKICAgICAgICAgICAgICAgIGdyYXBoLmVtaXQoJ2FmdGVyLW5vZGUtcmVtb3ZlZCcsICRub2RlKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBjb25zdCBlZGdlcyA9IGdyYXBoLmZpbmRBbGxCeVN0YXRlKCdlZGdlJywgJ2VkZ2VTdGF0ZTpzZWxlY3RlZCcpOwogICAgICAgIGlmIChlZGdlcyAmJiBlZGdlcy5sZW5ndGgpIHsKICAgICAgICAgIGNvbnN0ICRlZGdlID0gZWRnZXNbMF0uZ2V0Q29udGFpbmVyKCkuZ2V0KCdpdGVtJyk7CiAgICAgICAgICBncmFwaC5lbWl0KCdiZWZvcmUtZWRnZS1yZW1vdmVkJywgewogICAgICAgICAgICB0YXJnZXQ6ICRlZGdlLAogICAgICAgICAgICBjYWxsYmFjayhjb25maXJtKSB7CiAgICAgICAgICAgICAgaWYgKGNvbmZpcm0pIHsKICAgICAgICAgICAgICAgIGdyYXBoLnJlbW92ZSgkZWRnZSk7CiAgICAgICAgICAgICAgICBncmFwaC5zZXQoJ2FmdGVyLWVkZ2Utc2VsZWN0ZWQnLCBbXSk7CiAgICAgICAgICAgICAgICBncmFwaC5lbWl0KCdhZnRlci1lZGdlLXNlbGVjdGVkJyk7CiAgICAgICAgICAgICAgICBncmFwaC5lbWl0KCdhZnRlci1lZGdlLXJlbW92ZWQnLCAkZWRnZSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9KTsKfSk7"},{"version":3,"names":["G6","registerBehavior","getEvents","shouldBegin","e","onKeydown","graph","cfg","canvas","el","getAttribute","keyCode","nodes","findAllByState","length","$node","getContainer","get","emit","target","callback","confirm","remove","set","edges","$edge"],"sources":["D:/develop_ryx/foundryGPT/frontend/src/components/graph/behavior/delete-item.js"],"sourcesContent":["export default G6 => {\r\n  G6.registerBehavior('delete-item', {\r\n    getEvents () {\r\n      return {\r\n        'keydown': 'onKeydown',\r\n      };\r\n    },\r\n    shouldBegin (e) {\r\n      return true;\r\n    },\r\n    onKeydown (e) {\r\n      const { graph } = this;\r\n\r\n\r\n      if (graph.cfg.canvas.cfg.el.getAttribute('isFocused') !== 'true') return;\r\n      if (!this.shouldBegin(e)) return;\r\n\r\n\r\n      \r\n      if (e.keyCode === 8 || e.keyCode === 46) {\r\n        const nodes = graph.findAllByState('node', 'nodeState:selected');\r\n\r\n        if (nodes && nodes.length) {\r\n          const $node = nodes[0].getContainer().get('item');\r\n\r\n          graph.emit('before-node-removed', {\r\n            target: $node,\r\n            callback (confirm) {\r\n\r\n              if (confirm) {\r\n                graph.remove($node);\r\n                graph.set('after-node-selected', []);\r\n\r\n                graph.emit('after-node-selected');\r\n                graph.emit('after-node-removed', $node);\r\n              }\r\n            },\r\n          });\r\n        }\r\n\r\n\r\n        const edges = graph.findAllByState('edge', 'edgeState:selected');\r\n\r\n        if (edges && edges.length) {\r\n          const $edge = edges[0].getContainer().get('item');\r\n\r\n          graph.emit('before-edge-removed', {\r\n            target: $edge,\r\n            callback (confirm) {\r\n              if (confirm) {\r\n                graph.remove($edge);\r\n                graph.set('after-edge-selected', []);\r\n\r\n                graph.emit('after-edge-selected');\r\n                graph.emit('after-edge-removed', $edge);\r\n              }\r\n            },\r\n          });\r\n        }\r\n      }\r\n    },\r\n  });\r\n};\r\n"],"mappings":"AAAA,gBAAeA,EAAE,IAAI;EACnBA,EAAE,CAACC,gBAAgB,CAAC,aAAa,EAAE;IACjCC,SAASA,CAAA,EAAI;MACX,OAAO;QACL,SAAS,EAAE;MACb,CAAC;IACH,CAAC;IACDC,WAAWA,CAAEC,CAAC,EAAE;MACd,OAAO,IAAI;IACb,CAAC;IACDC,SAASA,CAAED,CAAC,EAAE;MACZ,MAAM;QAAEE;MAAM,CAAC,GAAG,IAAI;MAGtB,IAAIA,KAAK,CAACC,GAAG,CAACC,MAAM,CAACD,GAAG,CAACE,EAAE,CAACC,YAAY,CAAC,WAAW,CAAC,KAAK,MAAM,EAAE;MAClE,IAAI,CAAC,IAAI,CAACP,WAAW,CAACC,CAAC,CAAC,EAAE;MAI1B,IAAIA,CAAC,CAACO,OAAO,KAAK,CAAC,IAAIP,CAAC,CAACO,OAAO,KAAK,EAAE,EAAE;QACvC,MAAMC,KAAK,GAAGN,KAAK,CAACO,cAAc,CAAC,MAAM,EAAE,oBAAoB,CAAC;QAEhE,IAAID,KAAK,IAAIA,KAAK,CAACE,MAAM,EAAE;UACzB,MAAMC,KAAK,GAAGH,KAAK,CAAC,CAAC,CAAC,CAACI,YAAY,CAAC,CAAC,CAACC,GAAG,CAAC,MAAM,CAAC;UAEjDX,KAAK,CAACY,IAAI,CAAC,qBAAqB,EAAE;YAChCC,MAAM,EAAEJ,KAAK;YACbK,QAAQA,CAAEC,OAAO,EAAE;cAEjB,IAAIA,OAAO,EAAE;gBACXf,KAAK,CAACgB,MAAM,CAACP,KAAK,CAAC;gBACnBT,KAAK,CAACiB,GAAG,CAAC,qBAAqB,EAAE,EAAE,CAAC;gBAEpCjB,KAAK,CAACY,IAAI,CAAC,qBAAqB,CAAC;gBACjCZ,KAAK,CAACY,IAAI,CAAC,oBAAoB,EAAEH,KAAK,CAAC;cACzC;YACF;UACF,CAAC,CAAC;QACJ;QAGA,MAAMS,KAAK,GAAGlB,KAAK,CAACO,cAAc,CAAC,MAAM,EAAE,oBAAoB,CAAC;QAEhE,IAAIW,KAAK,IAAIA,KAAK,CAACV,MAAM,EAAE;UACzB,MAAMW,KAAK,GAAGD,KAAK,CAAC,CAAC,CAAC,CAACR,YAAY,CAAC,CAAC,CAACC,GAAG,CAAC,MAAM,CAAC;UAEjDX,KAAK,CAACY,IAAI,CAAC,qBAAqB,EAAE;YAChCC,MAAM,EAAEM,KAAK;YACbL,QAAQA,CAAEC,OAAO,EAAE;cACjB,IAAIA,OAAO,EAAE;gBACXf,KAAK,CAACgB,MAAM,CAACG,KAAK,CAAC;gBACnBnB,KAAK,CAACiB,GAAG,CAAC,qBAAqB,EAAE,EAAE,CAAC;gBAEpCjB,KAAK,CAACY,IAAI,CAAC,qBAAqB,CAAC;gBACjCZ,KAAK,CAACY,IAAI,CAAC,oBAAoB,EAAEO,KAAK,CAAC;cACzC;YACF;UACF,CAAC,CAAC;QACJ;MACF;IACF;EACF,CAAC,CAAC;AACJ,CAAC"}]}