{"remainingRequest":"D:\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\frontend\\src\\components\\graph\\shape\\items\\base-node.js","dependencies":[{"path":"D:\\frontend\\src\\components\\graph\\shape\\items\\base-node.js","mtime":1687233846000},{"path":"D:\\frontend\\babel.config.js","mtime":1645975642000},{"path":"D:\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM3Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczcuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIkQ6L2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eS5qcyI7CmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBlbnVtZXJhYmxlT25seSAmJiAoc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pKSwga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBudWxsICE9IGFyZ3VtZW50c1tpXSA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpICUgMiA/IG93bktleXMoT2JqZWN0KHNvdXJjZSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpIDogb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9CmltcG9ydCBpdGVtRXZlbnRzIGZyb20gIi4vaXRlbS1ldmVudCI7CmltcG9ydCBhbmNob3JFdmVudCBmcm9tICIuL2FuY2hvci1ldmVudCI7CmltcG9ydCBkZWZhdWx0U3R5bGVzIGZyb20gIi4uL2RlZmF1bHRTdHlsZXMiOwp2YXIgaWNvblN0eWxlcyA9IGRlZmF1bHRTdHlsZXMuaWNvblN0eWxlcywKICBub2RlU3R5bGVzID0gZGVmYXVsdFN0eWxlcy5ub2RlU3R5bGVzLAogIGFuY2hvclBvaW50U3R5bGVzID0gZGVmYXVsdFN0eWxlcy5hbmNob3JQb2ludFN0eWxlcywKICBub2RlTGFiZWxTdHlsZXMgPSBkZWZhdWx0U3R5bGVzLm5vZGVMYWJlbFN0eWxlczsKZnVuY3Rpb24gZ2V0U3R5bGUob3B0aW9ucywgY2ZnKSB7CiAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBjZmcpLCBub2RlU3R5bGVzKSwgb3B0aW9ucyksIGNmZy5zdHlsZSksIHt9LCB7CiAgICBsYWJlbENmZzogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBub2RlTGFiZWxTdHlsZXMpLCBjZmcubGFiZWxDZmcpLAogICAgaWNvblN0eWxlczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBpY29uU3R5bGVzKSwgY2ZnLmljb25TdHlsZXMpLAogICAgYW5jaG9yUG9pbnRTdHlsZXM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgYW5jaG9yUG9pbnRTdHlsZXMpLCBjZmcuYW5jaG9yUG9pbnRTdHlsZXMpCiAgfSwgY2ZnLm5vZGVTdGF0ZVN0eWxlcyksIHt9LCB7CiAgICBhbmNob3JIb3Rzb3B0U3R5bGVzOiBjZmcuYW5jaG9ySG90c29wdFN0eWxlcwogIH0pOwp9CmV4cG9ydCBkZWZhdWx0IChmdW5jdGlvbiAoRzYpIHsKICBHNi5yZWdpc3Rlck5vZGUoJ2Jhc2Utbm9kZScsIHsKICAgIGdldFNoYXBlU3R5bGU6IGZ1bmN0aW9uIGdldFNoYXBlU3R5bGUoY2ZnKSB7CiAgICAgIHZhciB3aWR0aCA9IGNmZy5zdHlsZS53aWR0aCB8fCA4MDsKICAgICAgdmFyIGhlaWdodCA9IGNmZy5zdHlsZS5oZWlnaHQgfHwgNDA7CiAgICAgIHJldHVybiBnZXRTdHlsZS5jYWxsKHRoaXMsIHsKICAgICAgICB3aWR0aDogd2lkdGgsCiAgICAgICAgaGVpZ2h0OiBoZWlnaHQsCiAgICAgICAgcmFkaXVzOiA1LAogICAgICAgIHg6IC13aWR0aCAvIDIsCiAgICAgICAgeTogLWhlaWdodCAvIDIKICAgICAgfSwgY2ZnKTsKICAgIH0sCiAgICBkcmF3SWNvbjogZnVuY3Rpb24gZHJhd0ljb24oY2ZnLCBncm91cCwgYXR0cnMpIHsKICAgICAgdmFyIGxvZ29JY29uID0gYXR0cnMubG9nb0ljb24sCiAgICAgICAgc3RhdGVJY29uID0gYXR0cnMuc3RhdGVJY29uOwogICAgICB2YXIgaWNvbnMgPSBbbG9nb0ljb24sIHN0YXRlSWNvbl07CiAgICAgIGljb25zLmZvckVhY2goZnVuY3Rpb24gKCRpdGVtLCBpbmRleCkgewogICAgICAgIGlmICgkaXRlbSkgewogICAgICAgICAgdmFyIGNsYXNzTmFtZSA9ICIiLmNvbmNhdChhdHRycy50eXBlLCAiLSIpLmNvbmNhdChpbmRleCA9PT0gMCA/ICdsb2dvSWNvbicgOiAnc3RhdGVJY29uJyk7CiAgICAgICAgICB2YXIgaXRlbSA9IGdyb3VwLiRnZXRJdGVtKGNsYXNzTmFtZSk7CiAgICAgICAgICBpZiAoIWl0ZW0pIHsKICAgICAgICAgICAgdmFyIGljb24gPSBncm91cC5hZGRTaGFwZSgkaXRlbS5pbWcgPyAnaW1hZ2UnIDogJ3RleHQnLCB7CiAgICAgICAgICAgICAgYXR0cnM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgJGl0ZW0pLCAkaXRlbS5zdHlsZSksCiAgICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlLAogICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpY29uLnRvRnJvbnQoKTsKICAgICAgICAgICAgaXRlbSA9IGdyb3VwLiRnZXRJdGVtKGNsYXNzTmFtZSk7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoaXRlbSkgewogICAgICAgICAgICBpZiAoJGl0ZW0uc2hvdykgewogICAgICAgICAgICAgIGl0ZW0uc2hvdygpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGl0ZW0uaGlkZSgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBpbml0QW5jaG9yOiBmdW5jdGlvbiBpbml0QW5jaG9yKGNmZywgZ3JvdXApIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgZ3JvdXAuYW5jaG9yU2hhcGVzID0gW107CiAgICAgIGdyb3VwLnNob3dBbmNob3IgPSBmdW5jdGlvbiAoZ3JvdXApIHsKICAgICAgICBfdGhpcy5kcmF3QW5jaG9yKGNmZywgZ3JvdXApOwogICAgICB9OwogICAgICBncm91cC5jbGVhckFuY2hvciA9IGZ1bmN0aW9uIChncm91cCkgewogICAgICAgIGdyb3VwLmFuY2hvclNoYXBlcyAmJiBncm91cC5hbmNob3JTaGFwZXMuZm9yRWFjaChmdW5jdGlvbiAoYSkgewogICAgICAgICAgcmV0dXJuIGEucmVtb3ZlKCk7CiAgICAgICAgfSk7CiAgICAgICAgZ3JvdXAuYW5jaG9yU2hhcGVzID0gW107CiAgICAgIH07CiAgICB9LAogICAgZHJhd0FuY2hvcjogZnVuY3Rpb24gZHJhd0FuY2hvcihjZmcsIGdyb3VwKSB7CiAgICAgIHZhciBfZ3JvdXAkZ2V0Rmlyc3QkYXR0ciA9IGdyb3VwLmdldEZpcnN0KCkuYXR0cigpLAogICAgICAgIHR5cGUgPSBfZ3JvdXAkZ2V0Rmlyc3QkYXR0ci50eXBlLAogICAgICAgIGRpcmVjdGlvbiA9IF9ncm91cCRnZXRGaXJzdCRhdHRyLmRpcmVjdGlvbiwKICAgICAgICBhbmNob3JQb2ludFN0eWxlcyA9IF9ncm91cCRnZXRGaXJzdCRhdHRyLmFuY2hvclBvaW50U3R5bGVzOwogICAgICB2YXIgaXRlbSA9IGdyb3VwLmdldCgnY2hpbGRyZW4nKVswXTsKICAgICAgdmFyIGJCb3ggPSBpdGVtLmdldEJCb3goKTsKICAgICAgdmFyIGFuY2hvcnMgPSB0aGlzLmdldEFuY2hvclBvaW50cyhjZmcpOwogICAgICBhbmNob3JzICYmIGFuY2hvcnMuZm9yRWFjaChmdW5jdGlvbiAocCwgaSkgewogICAgICAgIHZhciBkaWZmID0gdHlwZSA9PT0gJ3RyaWFuZ2xlLW5vZGUnID8gZGlyZWN0aW9uID09PSAndXAnID8gMSA6IDAgOiAwLjU7CiAgICAgICAgdmFyIHggPSBiQm94LndpZHRoICogKHBbMF0gLSAwLjUpOwogICAgICAgIHZhciB5ID0gYkJveC5oZWlnaHQgKiAocFsxXSAtIGRpZmYpOwogICAgICAgIHZhciBhbmNob3IgPSBncm91cC5hZGRTaGFwZSgnY2lyY2xlJywgewogICAgICAgICAgYXR0cnM6IF9vYmplY3RTcHJlYWQoewogICAgICAgICAgICB4OiB4LAogICAgICAgICAgICB5OiB5CiAgICAgICAgICB9LCBhbmNob3JQb2ludFN0eWxlcyksCiAgICAgICAgICB6SW5kZXg6IDEsCiAgICAgICAgICBub2RlSWQ6IGdyb3VwLmdldCgnaWQnKSwKICAgICAgICAgIGNsYXNzTmFtZTogJ25vZGUtYW5jaG9yJywKICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZSwKICAgICAgICAgIGlzQW5jaG9yOiB0cnVlLAogICAgICAgICAgaW5kZXg6IGkKICAgICAgICB9KTsKICAgICAgICB2YXIgYW5jaG9yR3JvdXAgPSBncm91cC5hZGRTaGFwZSgnY2lyY2xlJywgewogICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgeDogeCwKICAgICAgICAgICAgeTogeSwKICAgICAgICAgICAgcjogMTEsCiAgICAgICAgICAgIGZpbGw6ICcjMDAwJywKICAgICAgICAgICAgb3BhY2l0eTogMAogICAgICAgICAgfSwKICAgICAgICAgIHpJbmRleDogMiwKICAgICAgICAgIG5vZGVJZDogZ3JvdXAuZ2V0KCdpZCcpLAogICAgICAgICAgY2xhc3NOYW1lOiAnbm9kZS1hbmNob3ItZ3JvdXAnLAogICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlLAogICAgICAgICAgaXNBbmNob3I6IHRydWUsCiAgICAgICAgICBpbmRleDogaQogICAgICAgIH0pOwogICAgICAgIGFuY2hvckV2ZW50KGFuY2hvckdyb3VwLCBncm91cCwgcCk7CiAgICAgICAgZ3JvdXAuYW5jaG9yU2hhcGVzLnB1c2goYW5jaG9yKTsKICAgICAgICBncm91cC5hbmNob3JTaGFwZXMucHVzaChhbmNob3JHcm91cCk7CiAgICAgIH0pOwogICAgICBncm91cC5nZXRBbGxBbmNob3JzID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBncm91cC5hbmNob3JTaGFwZXMuZmlsdGVyKGZ1bmN0aW9uIChjKSB7CiAgICAgICAgICByZXR1cm4gYy5nZXQoJ2lzQW5jaG9yJykgPT09IHRydWU7CiAgICAgICAgfSk7CiAgICAgIH07CiAgICAgIGdyb3VwLmdldEFuY2hvciA9IGZ1bmN0aW9uIChpKSB7CiAgICAgICAgcmV0dXJuIGdyb3VwLmFuY2hvclNoYXBlcy5maWx0ZXIoZnVuY3Rpb24gKGMpIHsKICAgICAgICAgIHJldHVybiBjLmdldCgnY2xhc3NOYW1lJykgPT09ICdub2RlLWFuY2hvcicgJiYgYy5nZXQoJ2luZGV4JykgPT09IGk7CiAgICAgICAgfSk7CiAgICAgIH07CiAgICAgIGdyb3VwLmdldEFsbEFuY2hvckJnID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBncm91cC5hbmNob3JTaGFwZXMuZmlsdGVyKGZ1bmN0aW9uIChjKSB7CiAgICAgICAgICByZXR1cm4gYy5nZXQoJ2NsYXNzTmFtZScpID09PSAnbm9kZS1hbmNob3ItYmcnOwogICAgICAgIH0pOwogICAgICB9OwogICAgfSwKICAgIC8qIGh0dHBzOi8vZzYuYW50di52aXNpb24vemgvZG9jcy9tYW51YWwvYWR2YW5jZWQva2V5Y29uY2VwdC9zaGFwZS1hbmQtcHJvcGVydGllcy8jJUU2JTk2JTg3JUU2JTlDJUFDLXRleHQgKi9hZGRMYWJlbDogZnVuY3Rpb24gYWRkTGFiZWwoY2ZnLCBncm91cCwgYXR0cnMpIHsKICAgICAgdmFyIGxhYmVsID0gYXR0cnMubGFiZWwsCiAgICAgICAgbGFiZWxDZmcgPSBhdHRycy5sYWJlbENmZywKICAgICAgICBsYWJlbHMgPSBhdHRycy5sYWJlbHM7CgogICAgICAvKiBpZiAobGFiZWxDZmcgJiYgbGFiZWxDZmcuZm9udFNpemUgPCAxMikgew0KICAgICAgICBsYWJlbENmZy5mb250U2l6ZSA9IDEyOw0KICAgICAgfSAqLwoKICAgICAgaWYgKGxhYmVscykgewogICAgICAgIGxhYmVscy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICB2YXIgbGFiZWwgPSBpdGVtLmxhYmVsLAogICAgICAgICAgICBtYXhsZW5ndGggPSBpdGVtLmxhYmVsQ2ZnLm1heGxlbmd0aCwKICAgICAgICAgICAgY2xhc3NOYW1lID0gaXRlbS5jbGFzc05hbWU7CiAgICAgICAgICB2YXIgdGV4dCA9IG1heGxlbmd0aCA/IGxhYmVsLnN1YnN0cigwLCBtYXhsZW5ndGgpIDogbGFiZWwgfHwgJyc7CiAgICAgICAgICBpZiAobGFiZWwubGVuZ3RoID4gbWF4bGVuZ3RoKSB7CiAgICAgICAgICAgIHRleHQgPSAiIi5jb25jYXQodGV4dCwgIi4uLiIpOwogICAgICAgICAgfQogICAgICAgICAgZ3JvdXAuYWRkU2hhcGUoJ3RleHQnLCB7CiAgICAgICAgICAgIGF0dHJzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7CiAgICAgICAgICAgICAgdGV4dDogdGV4dAogICAgICAgICAgICB9LCBpdGVtKSwgaXRlbS5sYWJlbENmZyksIGl0ZW0ubGFiZWxDZmcuc3R5bGUpLAogICAgICAgICAgICBjbGFzc05hbWU6ICJub2RlLXRleHQgIi5jb25jYXQoY2xhc3NOYW1lKSwKICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmIChsYWJlbCkgewogICAgICAgIHZhciBtYXhsZW5ndGggPSBsYWJlbENmZy5tYXhsZW5ndGg7CiAgICAgICAgdmFyIHRleHQgPSBtYXhsZW5ndGggPyBsYWJlbC5zdWJzdHIoMCwgbWF4bGVuZ3RoKSA6IGxhYmVsIHx8ICcnOwogICAgICAgIGlmIChsYWJlbC5sZW5ndGggPiBtYXhsZW5ndGgpIHsKICAgICAgICAgIHRleHQgPSAiIi5jb25jYXQodGV4dCwgIi4uLiIpOwogICAgICAgIH0KICAgICAgICBncm91cC5hZGRTaGFwZSgndGV4dCcsIHsKICAgICAgICAgIGF0dHJzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoewogICAgICAgICAgICB0ZXh0OiB0ZXh0LAogICAgICAgICAgICB4OiAwLAogICAgICAgICAgICB5OiAwCiAgICAgICAgICB9LCBsYWJlbENmZyksIGxhYmVsQ2ZnLnN0eWxlKSwKICAgICAgICAgIGNsYXNzTmFtZTogJ25vZGUtdGV4dCcsCiAgICAgICAgICBkcmFnZ2FibGU6IHRydWUKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGRyYXdNb2RlbFJlY3Q6IGZ1bmN0aW9uIGRyYXdNb2RlbFJlY3QoZ3JvdXAsIGF0dHJzKSB7CiAgICAgIHZhciBwcmVSZWN0ID0gYXR0cnMucHJlUmVjdCwKICAgICAgICB3aWR0aCA9IGF0dHJzLndpZHRoLAogICAgICAgIGhlaWdodCA9IGF0dHJzLmhlaWdodDsKICAgICAgdmFyICRwcmVSZWN0ID0gewogICAgICAgIHNob3c6IHRydWUsCiAgICAgICAgd2lkdGg6IDQsCiAgICAgICAgZmlsbDogJyM0MGE5ZmYnLAogICAgICAgIHJhZGl1czogMgogICAgICB9OwogICAgICBpZiAoIXByZVJlY3QgfHwgcHJlUmVjdC5zaG93ICE9PSBmYWxzZSkgewogICAgICAgIGdyb3VwLmFkZFNoYXBlKCdyZWN0JywgewogICAgICAgICAgYXR0cnM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7CiAgICAgICAgICAgIHg6IC13aWR0aCAvIDIsCiAgICAgICAgICAgIHk6IC1oZWlnaHQgLyAyLAogICAgICAgICAgICBoZWlnaHQ6IGhlaWdodAogICAgICAgICAgfSwgJHByZVJlY3QpLCBwcmVSZWN0KSwKICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgZHJhdzogZnVuY3Rpb24gZHJhdyhjZmcsIGdyb3VwKSB7CiAgICAgIHJldHVybiB0aGlzLmRyYXdTaGFwZShjZmcsIGdyb3VwKTsKICAgIH0sCiAgICBkcmF3U2hhcGU6IGZ1bmN0aW9uIGRyYXdTaGFwZShjZmcsIGdyb3VwKSB7CiAgICAgIHZhciBhdHRycyA9IHRoaXMuZ2V0U2hhcGVTdHlsZShjZmcsIGdyb3VwKTsKICAgICAgdmFyIHNoYXBlID0gZ3JvdXAuYWRkU2hhcGUodGhpcy5zaGFwZVR5cGUsIHsKICAgICAgICBjbGFzc05hbWU6ICIiLmNvbmNhdCh0aGlzLnNoYXBlVHlwZSwgIi1zaGFwZSIpLAogICAgICAgIHhTaGFwZU5vZGU6IHRydWUsCiAgICAgICAgZHJhZ2dhYmxlOiB0cnVlLAogICAgICAgIGF0dHJzOiBhdHRycwogICAgICB9KTsKICAgICAgZ3JvdXAuJGdldEl0ZW0gPSBmdW5jdGlvbiAoY2xhc3NOYW1lKSB7CiAgICAgICAgcmV0dXJuIGdyb3VwLmdldCgnY2hpbGRyZW4nKS5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICByZXR1cm4gaXRlbS5nZXQoJ2NsYXNzTmFtZScpID09PSBjbGFzc05hbWU7CiAgICAgICAgfSk7CiAgICAgIH07CiAgICAgIGlmICh0aGlzLnR5cGUgPT09ICdtb2RlbFJlY3Qtbm9kZScpIHsKICAgICAgICB0aGlzLmRyYXdNb2RlbFJlY3QoZ3JvdXAsIGF0dHJzKTsKICAgICAgfQogICAgICB0aGlzLmFkZExhYmVsKGNmZywgZ3JvdXAsIGF0dHJzKTsKICAgICAgdGhpcy5kcmF3SWNvbihjZmcsIGdyb3VwLCBhdHRycyk7CiAgICAgIHRoaXMuaW5pdEFuY2hvcihjZmcsIGdyb3VwKTsKICAgICAgcmV0dXJuIHNoYXBlOwogICAgfSwKICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKGNmZywgbm9kZSkgewogICAgICB2YXIgbW9kZWwgPSBub2RlLmdldCgnbW9kZWwnKTsKICAgICAgdmFyIF9ub2RlJGdldCA9IG5vZGUuZ2V0KCdrZXlTaGFwZScpLAogICAgICAgIGF0dHJzID0gX25vZGUkZ2V0LmF0dHJzOwogICAgICB2YXIgdGV4dCA9IG5vZGUuZ2V0KCdncm91cCcpLiRnZXRJdGVtKCdub2RlLXRleHQnKTsKICAgICAgdmFyIGl0ZW0gPSBub2RlLmdldCgnZ3JvdXAnKS5nZXQoJ2NoaWxkcmVuJylbMF07CiAgICAgIHRleHQgJiYgdGV4dC5hdHRyKF9vYmplY3RTcHJlYWQoewogICAgICAgIHRleHQ6IG1vZGVsLmxhYmVsCiAgICAgIH0sIG1vZGVsLmxhYmVsQ2ZnLnN0eWxlKSk7CiAgICAgIGl0ZW0uYXR0cihfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGF0dHJzKSwgbW9kZWwuc3R5bGUpKTsKICAgIH0sCiAgICBzZXRTdGF0ZTogZnVuY3Rpb24gc2V0U3RhdGUobmFtZSwgdmFsdWUsIGl0ZW0pIHsKICAgICAgdmFyIGJ1aWxkSW5FdmVudHMgPSBbJ2FuY2hvclNob3cnLCAnYW5jaG9yQWN0aXZlZCcsICdub2RlU3RhdGUnLCAnbm9kZVN0YXRlOmRlZmF1bHQnLCAnbm9kZVN0YXRlOnNlbGVjdGVkJywgJ25vZGVTdGF0ZTpob3ZlcicsICdub2RlT25EcmFnU3RhcnQnLCAnbm9kZU9uRHJhZycsICdub2RlT25EcmFnRW5kJ107CiAgICAgIHZhciBncm91cCA9IGl0ZW0uZ2V0Q29udGFpbmVyKCk7CiAgICAgIGlmIChncm91cC5nZXQoJ2Rlc3Ryb3llZCcpKSByZXR1cm47CiAgICAgIGlmIChidWlsZEluRXZlbnRzLmluY2x1ZGVzKG5hbWUpKSB7CiAgICAgICAgaXRlbUV2ZW50c1tuYW1lXS5jYWxsKHRoaXMsIHZhbHVlLCBncm91cCk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZUFwcGx5aW5nKSB7CiAgICAgICAgdGhpcy5zdGF0ZUFwcGx5aW5nLmNhbGwodGhpcywgbmFtZSwgdmFsdWUsIGl0ZW0pOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUud2Fybigid2FybmluZzogIi5jb25jYXQobmFtZSwgIiBub3QgcmVnaXN0ZWQhXG4iKSk7CiAgICAgIH0KICAgIH0sCiAgICBnZXRBbmNob3JQb2ludHM6IGZ1bmN0aW9uIGdldEFuY2hvclBvaW50cyhjZmcpIHsKICAgICAgcmV0dXJuIGNmZy5hbmNob3JQb2ludHMgfHwgW1swLjUsIDBdLCBbMSwgMC41XSwgWzAuNSwgMV0sIFswLCAwLjVdXTsKICAgIH0KICB9LCAnc2luZ2xlLW5vZGUnKTsKfSk7"},{"version":3,"names":["itemEvents","anchorEvent","defaultStyles","iconStyles","nodeStyles","anchorPointStyles","nodeLabelStyles","getStyle","options","cfg","_objectSpread","style","labelCfg","nodeStateStyles","anchorHotsoptStyles","G6","registerNode","getShapeStyle","width","height","call","radius","x","y","drawIcon","group","attrs","logoIcon","stateIcon","icons","forEach","$item","index","className","concat","type","item","$getItem","icon","addShape","img","draggable","toFront","show","hide","initAnchor","_this","anchorShapes","showAnchor","drawAnchor","clearAnchor","a","remove","_group$getFirst$attr","getFirst","attr","direction","get","bBox","getBBox","anchors","getAnchorPoints","p","i","diff","anchor","zIndex","nodeId","isAnchor","anchorGroup","r","fill","opacity","push","getAllAnchors","filter","c","getAnchor","getAllAnchorBg","addLabel","label","labels","maxlength","text","substr","length","drawModelRect","preRect","$preRect","draw","drawShape","shape","shapeType","xShapeNode","find","update","node","model","_node$get","setState","name","value","buildInEvents","getContainer","includes","stateApplying","console","warn","anchorPoints"],"sources":["D:/frontend/src/components/graph/shape/items/base-node.js"],"sourcesContent":["\r\nimport itemEvents from './item-event';\r\nimport anchorEvent from './anchor-event';\r\nimport defaultStyles from '../defaultStyles';\r\n\r\nconst {\r\n  iconStyles,\r\n  nodeStyles,\r\n  anchorPointStyles,\r\n  nodeLabelStyles,\r\n} = defaultStyles;\r\n\r\nfunction getStyle (options, cfg) {\r\n  return {\r\n    ...cfg,\r\n\r\n    ...nodeStyles,\r\n    ...options,\r\n\r\n    ...cfg.style,\r\n\r\n    labelCfg: {\r\n      ...nodeLabelStyles,\r\n      ...cfg.labelCfg,\r\n    },\r\n\r\n    iconStyles: {\r\n      ...iconStyles,\r\n      ...cfg.iconStyles,\r\n    },\r\n\r\n    anchorPointStyles: {\r\n      ...anchorPointStyles,\r\n      ...cfg.anchorPointStyles,\r\n    },\r\n    ...cfg.nodeStateStyles,\r\n\r\n    anchorHotsoptStyles: cfg.anchorHotsoptStyles,\r\n  };\r\n}\r\n\r\nexport default G6 => {\r\n  G6.registerNode('base-node', {\r\n    getShapeStyle (cfg) {\r\n      const width = cfg.style.width || 80;\r\n      const height = cfg.style.height || 40;\r\n\r\n      return getStyle.call(this, {\r\n        width,\r\n        height,\r\n        radius: 5,\r\n        x:      -width / 2,\r\n        y:      -height / 2,\r\n      }, cfg);\r\n    },\r\n\r\n    drawIcon (cfg, group, attrs) {\r\n      const { logoIcon, stateIcon } = attrs;\r\n      const icons = [logoIcon, stateIcon];\r\n\r\n      icons.forEach(($item, index) => {\r\n        if ($item) {\r\n          const className = `${attrs.type}-${index === 0 ? 'logoIcon' : 'stateIcon'}`;\r\n\r\n          let item = group.$getItem(className);\r\n\r\n          if (!item) {\r\n            const icon = group.addShape($item.img ? 'image' : 'text', {\r\n              attrs: {\r\n                ...$item,\r\n                ...$item.style,\r\n              },\r\n              draggable: true,\r\n              className,\r\n            });\r\n\r\n            icon.toFront();\r\n            item = group.$getItem(className);\r\n          }\r\n\r\n          if (item) {\r\n            if ($item.show) {\r\n              item.show();\r\n            } else {\r\n              item.hide();\r\n            }\r\n          }\r\n        }\r\n      });\r\n    },\r\n\r\n    initAnchor (cfg, group) {\r\n      group.anchorShapes = [];\r\n      group.showAnchor = group => {\r\n        this.drawAnchor(cfg, group);\r\n      };\r\n      group.clearAnchor = group => {\r\n        group.anchorShapes && group.anchorShapes.forEach(a => a.remove());\r\n        group.anchorShapes = [];\r\n      };\r\n    },\r\n    drawAnchor (cfg, group) {\r\n      const { type, direction, anchorPointStyles } = group.getFirst().attr();\r\n      const item = group.get('children')[0];\r\n      const bBox = item.getBBox();\r\n      const anchors = this.getAnchorPoints(cfg);\r\n\r\n\r\n      anchors && anchors.forEach((p, i) => {\r\n        const diff = type === 'triangle-node' ? (direction === 'up' ? 1 : 0) : 0.5;\r\n        const x = bBox.width * (p[0] - 0.5);\r\n        const y = bBox.height * (p[1] - diff);\r\n\r\n\r\n        \r\n        const anchor = group.addShape('circle', {\r\n          attrs: {\r\n            x,\r\n            y,\r\n            ...anchorPointStyles,\r\n          },\r\n          zIndex:    1,\r\n          nodeId:    group.get('id'),\r\n          className: 'node-anchor',\r\n          draggable: true,\r\n          isAnchor:  true,\r\n          index:     i,\r\n        });\r\n\r\n\r\n        const anchorGroup = group.addShape('circle', {\r\n          attrs: {\r\n            x,\r\n            y,\r\n            r:       11,\r\n            fill:    '#000',\r\n            opacity: 0,\r\n          },\r\n          zIndex:    2,\r\n          nodeId:    group.get('id'),\r\n          className: 'node-anchor-group',\r\n          draggable: true,\r\n          isAnchor:  true,\r\n          index:     i,\r\n        });\r\n\r\n\r\n        \r\n        anchorEvent(anchorGroup, group, p);\r\n\r\n        group.anchorShapes.push(anchor);\r\n        group.anchorShapes.push(anchorGroup);\r\n      });\r\n\r\n\r\n      group.getAllAnchors = () => {\r\n        return group.anchorShapes.filter(c => c.get('isAnchor') === true);\r\n      };\r\n\r\n      group.getAnchor = (i) => {\r\n        return group.anchorShapes.filter(c => c.get('className') === 'node-anchor' && c.get('index') === i);\r\n      };\r\n\r\n      group.getAllAnchorBg = () => {\r\n        return group.anchorShapes.filter(c => c.get('className') === 'node-anchor-bg');\r\n      };\r\n    },\r\n\r\n    /* https://g6.antv.vision/zh/docs/manual/advanced/keyconcept/shape-and-properties/#%E6%96%87%E6%9C%AC-text */\r\n    addLabel (cfg, group, attrs) {\r\n      const { label, labelCfg, labels } = attrs;\r\n\r\n      /* if (labelCfg && labelCfg.fontSize < 12) {\r\n        labelCfg.fontSize = 12;\r\n      } */\r\n\r\n\r\n      if (labels) {\r\n        labels.forEach(item => {\r\n          const { label, labelCfg: { maxlength }, className } = item;\r\n\r\n          let text = maxlength ? label.substr(0, maxlength) : label || '';\r\n\r\n          if (label.length > maxlength) {\r\n            text = `${text}...`;\r\n          }\r\n\r\n          group.addShape('text', {\r\n            attrs: {\r\n              text,\r\n              ...item,\r\n              ...item.labelCfg,\r\n              ...item.labelCfg.style,\r\n            },\r\n            className: `node-text ${className}`,\r\n            draggable: true,\r\n          });\r\n        });\r\n      } else if (label) {\r\n        const { maxlength } = labelCfg;\r\n\r\n        let text = maxlength ? label.substr(0, maxlength) : label || '';\r\n\r\n        if (label.length > maxlength) {\r\n          text = `${text}...`;\r\n        }\r\n\r\n        group.addShape('text', {\r\n            attrs: {\r\n              text,\r\n              x: 0,\r\n              y: 0,\r\n              ...labelCfg,\r\n              ...labelCfg.style,\r\n            },\r\n            className: 'node-text',\r\n            draggable: true,\r\n          });\r\n      }\r\n    },\r\n    drawModelRect (group, attrs) {\r\n      const { preRect, width, height } = attrs;\r\n      const $preRect = {\r\n        show:   true, \r\n        width:  4,\r\n        fill:   '#40a9ff',\r\n        radius: 2,\r\n      };\r\n\r\n      if (!preRect || preRect.show !== false) {\r\n        group.addShape('rect', {\r\n          attrs: {\r\n            x: -width / 2,\r\n            y: -height / 2,\r\n            height,\r\n            ...$preRect,\r\n            ...preRect,\r\n          },\r\n          draggable: true,\r\n        });\r\n      }\r\n    },\r\n\r\n    draw (cfg, group) {\r\n      return this.drawShape(cfg, group);\r\n    },\r\n\r\n    drawShape (cfg, group) { \r\n\r\n      const attrs = this.getShapeStyle(cfg, group);\r\n\r\n      const shape = group.addShape(this.shapeType, {\r\n        className:  `${this.shapeType}-shape`,\r\n        xShapeNode: true, \r\n        draggable:  true,\r\n        attrs,\r\n      });\r\n\r\n\r\n      group.$getItem = className => {\r\n        return group.get('children').find(item => item.get('className') === className);\r\n      };\r\n\r\n      if (this.type === 'modelRect-node') {\r\n        this.drawModelRect(group, attrs);\r\n      }\r\n\r\n      this.addLabel(cfg, group, attrs);\r\n\r\n      this.drawIcon(cfg, group, attrs);\r\n\r\n      this.initAnchor(cfg, group);\r\n\r\n      return shape;\r\n    },\r\n\r\n    update (cfg, node) {\r\n      const model = node.get('model');\r\n      const { attrs } = node.get('keyShape');\r\n      const text = node.get('group').$getItem('node-text');\r\n      const item = node.get('group').get('children')[0];\r\n\r\n\r\n      text && text.attr({\r\n        text: model.label,\r\n      ...model.labelCfg.style,\r\n      });\r\n\r\n      item.attr({ ...attrs, ...model.style });\r\n    },\r\n\r\n    setState (name, value, item) {\r\n      const buildInEvents = [\r\n        'anchorShow',\r\n        'anchorActived',\r\n        'nodeState',\r\n        'nodeState:default',\r\n        'nodeState:selected',\r\n        'nodeState:hover',\r\n        'nodeOnDragStart',\r\n        'nodeOnDrag',\r\n        'nodeOnDragEnd',\r\n      ];\r\n      const group = item.getContainer();\r\n\r\n      if (group.get('destroyed')) return;\r\n      if (buildInEvents.includes(name)) {\r\n\r\n        itemEvents[name].call(this, value, group);\r\n      } else if (this.stateApplying) {\r\n        this.stateApplying.call(this, name, value, item);\r\n      } else {\r\n        console.warn(`warning: ${name} not registed!\\n`);\r\n      }\r\n    },\r\n\r\n    getAnchorPoints (cfg) {\r\n      return cfg.anchorPoints || [\r\n        [0.5, 0],\r\n        [1, 0.5],\r\n        [0.5, 1],\r\n        [0, 0.5],\r\n      ];\r\n    },\r\n  }, 'single-node');\r\n};\r\n"],"mappings":"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"}]}