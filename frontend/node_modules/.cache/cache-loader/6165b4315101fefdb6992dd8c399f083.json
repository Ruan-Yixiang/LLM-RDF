{"remainingRequest":"F:\\fGPT\\foundryGPT\\frontend\\node_modules\\babel-loader\\lib\\index.js!F:\\fGPT\\foundryGPT\\frontend\\src\\components\\graph\\shape\\items\\base-node.js","dependencies":[{"path":"F:\\fGPT\\foundryGPT\\frontend\\src\\components\\graph\\shape\\items\\base-node.js","mtime":1687233846000},{"path":"F:\\fGPT\\foundryGPT\\frontend\\babel.config.js","mtime":1645975642000},{"path":"F:\\fGPT\\foundryGPT\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\fGPT\\foundryGPT\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM3Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczcuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIkY6L2ZHUFQvZm91bmRyeUdQVC9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkuanMiOwpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgZW51bWVyYWJsZU9ubHkgJiYgKHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KSksIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gbnVsbCAhPSBhcmd1bWVudHNbaV0gPyBhcmd1bWVudHNbaV0gOiB7fTsgaSAlIDIgPyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKSA6IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfQppbXBvcnQgaXRlbUV2ZW50cyBmcm9tICIuL2l0ZW0tZXZlbnQiOwppbXBvcnQgYW5jaG9yRXZlbnQgZnJvbSAiLi9hbmNob3ItZXZlbnQiOwppbXBvcnQgZGVmYXVsdFN0eWxlcyBmcm9tICIuLi9kZWZhdWx0U3R5bGVzIjsKdmFyIGljb25TdHlsZXMgPSBkZWZhdWx0U3R5bGVzLmljb25TdHlsZXMsCiAgbm9kZVN0eWxlcyA9IGRlZmF1bHRTdHlsZXMubm9kZVN0eWxlcywKICBhbmNob3JQb2ludFN0eWxlcyA9IGRlZmF1bHRTdHlsZXMuYW5jaG9yUG9pbnRTdHlsZXMsCiAgbm9kZUxhYmVsU3R5bGVzID0gZGVmYXVsdFN0eWxlcy5ub2RlTGFiZWxTdHlsZXM7CmZ1bmN0aW9uIGdldFN0eWxlKG9wdGlvbnMsIGNmZykgewogIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgY2ZnKSwgbm9kZVN0eWxlcyksIG9wdGlvbnMpLCBjZmcuc3R5bGUpLCB7fSwgewogICAgbGFiZWxDZmc6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbm9kZUxhYmVsU3R5bGVzKSwgY2ZnLmxhYmVsQ2ZnKSwKICAgIGljb25TdHlsZXM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgaWNvblN0eWxlcyksIGNmZy5pY29uU3R5bGVzKSwKICAgIGFuY2hvclBvaW50U3R5bGVzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGFuY2hvclBvaW50U3R5bGVzKSwgY2ZnLmFuY2hvclBvaW50U3R5bGVzKQogIH0sIGNmZy5ub2RlU3RhdGVTdHlsZXMpLCB7fSwgewogICAgYW5jaG9ySG90c29wdFN0eWxlczogY2ZnLmFuY2hvckhvdHNvcHRTdHlsZXMKICB9KTsKfQpleHBvcnQgZGVmYXVsdCAoZnVuY3Rpb24gKEc2KSB7CiAgRzYucmVnaXN0ZXJOb2RlKCdiYXNlLW5vZGUnLCB7CiAgICBnZXRTaGFwZVN0eWxlOiBmdW5jdGlvbiBnZXRTaGFwZVN0eWxlKGNmZykgewogICAgICB2YXIgd2lkdGggPSBjZmcuc3R5bGUud2lkdGggfHwgODA7CiAgICAgIHZhciBoZWlnaHQgPSBjZmcuc3R5bGUuaGVpZ2h0IHx8IDQwOwogICAgICByZXR1cm4gZ2V0U3R5bGUuY2FsbCh0aGlzLCB7CiAgICAgICAgd2lkdGg6IHdpZHRoLAogICAgICAgIGhlaWdodDogaGVpZ2h0LAogICAgICAgIHJhZGl1czogNSwKICAgICAgICB4OiAtd2lkdGggLyAyLAogICAgICAgIHk6IC1oZWlnaHQgLyAyCiAgICAgIH0sIGNmZyk7CiAgICB9LAogICAgZHJhd0ljb246IGZ1bmN0aW9uIGRyYXdJY29uKGNmZywgZ3JvdXAsIGF0dHJzKSB7CiAgICAgIHZhciBsb2dvSWNvbiA9IGF0dHJzLmxvZ29JY29uLAogICAgICAgIHN0YXRlSWNvbiA9IGF0dHJzLnN0YXRlSWNvbjsKICAgICAgdmFyIGljb25zID0gW2xvZ29JY29uLCBzdGF0ZUljb25dOwogICAgICBpY29ucy5mb3JFYWNoKGZ1bmN0aW9uICgkaXRlbSwgaW5kZXgpIHsKICAgICAgICBpZiAoJGl0ZW0pIHsKICAgICAgICAgIHZhciBjbGFzc05hbWUgPSAiIi5jb25jYXQoYXR0cnMudHlwZSwgIi0iKS5jb25jYXQoaW5kZXggPT09IDAgPyAnbG9nb0ljb24nIDogJ3N0YXRlSWNvbicpOwogICAgICAgICAgdmFyIGl0ZW0gPSBncm91cC4kZ2V0SXRlbShjbGFzc05hbWUpOwogICAgICAgICAgaWYgKCFpdGVtKSB7CiAgICAgICAgICAgIHZhciBpY29uID0gZ3JvdXAuYWRkU2hhcGUoJGl0ZW0uaW1nID8gJ2ltYWdlJyA6ICd0ZXh0JywgewogICAgICAgICAgICAgIGF0dHJzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sICRpdGVtKSwgJGl0ZW0uc3R5bGUpLAogICAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZSwKICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgaWNvbi50b0Zyb250KCk7CiAgICAgICAgICAgIGl0ZW0gPSBncm91cC4kZ2V0SXRlbShjbGFzc05hbWUpOwogICAgICAgICAgfQogICAgICAgICAgaWYgKGl0ZW0pIHsKICAgICAgICAgICAgaWYgKCRpdGVtLnNob3cpIHsKICAgICAgICAgICAgICBpdGVtLnNob3coKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBpdGVtLmhpZGUoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaW5pdEFuY2hvcjogZnVuY3Rpb24gaW5pdEFuY2hvcihjZmcsIGdyb3VwKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIGdyb3VwLmFuY2hvclNoYXBlcyA9IFtdOwogICAgICBncm91cC5zaG93QW5jaG9yID0gZnVuY3Rpb24gKGdyb3VwKSB7CiAgICAgICAgX3RoaXMuZHJhd0FuY2hvcihjZmcsIGdyb3VwKTsKICAgICAgfTsKICAgICAgZ3JvdXAuY2xlYXJBbmNob3IgPSBmdW5jdGlvbiAoZ3JvdXApIHsKICAgICAgICBncm91cC5hbmNob3JTaGFwZXMgJiYgZ3JvdXAuYW5jaG9yU2hhcGVzLmZvckVhY2goZnVuY3Rpb24gKGEpIHsKICAgICAgICAgIHJldHVybiBhLnJlbW92ZSgpOwogICAgICAgIH0pOwogICAgICAgIGdyb3VwLmFuY2hvclNoYXBlcyA9IFtdOwogICAgICB9OwogICAgfSwKICAgIGRyYXdBbmNob3I6IGZ1bmN0aW9uIGRyYXdBbmNob3IoY2ZnLCBncm91cCkgewogICAgICB2YXIgX2dyb3VwJGdldEZpcnN0JGF0dHIgPSBncm91cC5nZXRGaXJzdCgpLmF0dHIoKSwKICAgICAgICB0eXBlID0gX2dyb3VwJGdldEZpcnN0JGF0dHIudHlwZSwKICAgICAgICBkaXJlY3Rpb24gPSBfZ3JvdXAkZ2V0Rmlyc3QkYXR0ci5kaXJlY3Rpb24sCiAgICAgICAgYW5jaG9yUG9pbnRTdHlsZXMgPSBfZ3JvdXAkZ2V0Rmlyc3QkYXR0ci5hbmNob3JQb2ludFN0eWxlczsKICAgICAgdmFyIGl0ZW0gPSBncm91cC5nZXQoJ2NoaWxkcmVuJylbMF07CiAgICAgIHZhciBiQm94ID0gaXRlbS5nZXRCQm94KCk7CiAgICAgIHZhciBhbmNob3JzID0gdGhpcy5nZXRBbmNob3JQb2ludHMoY2ZnKTsKICAgICAgYW5jaG9ycyAmJiBhbmNob3JzLmZvckVhY2goZnVuY3Rpb24gKHAsIGkpIHsKICAgICAgICB2YXIgZGlmZiA9IHR5cGUgPT09ICd0cmlhbmdsZS1ub2RlJyA/IGRpcmVjdGlvbiA9PT0gJ3VwJyA/IDEgOiAwIDogMC41OwogICAgICAgIHZhciB4ID0gYkJveC53aWR0aCAqIChwWzBdIC0gMC41KTsKICAgICAgICB2YXIgeSA9IGJCb3guaGVpZ2h0ICogKHBbMV0gLSBkaWZmKTsKICAgICAgICB2YXIgYW5jaG9yID0gZ3JvdXAuYWRkU2hhcGUoJ2NpcmNsZScsIHsKICAgICAgICAgIGF0dHJzOiBfb2JqZWN0U3ByZWFkKHsKICAgICAgICAgICAgeDogeCwKICAgICAgICAgICAgeTogeQogICAgICAgICAgfSwgYW5jaG9yUG9pbnRTdHlsZXMpLAogICAgICAgICAgekluZGV4OiAxLAogICAgICAgICAgbm9kZUlkOiBncm91cC5nZXQoJ2lkJyksCiAgICAgICAgICBjbGFzc05hbWU6ICdub2RlLWFuY2hvcicsCiAgICAgICAgICBkcmFnZ2FibGU6IHRydWUsCiAgICAgICAgICBpc0FuY2hvcjogdHJ1ZSwKICAgICAgICAgIGluZGV4OiBpCiAgICAgICAgfSk7CiAgICAgICAgdmFyIGFuY2hvckdyb3VwID0gZ3JvdXAuYWRkU2hhcGUoJ2NpcmNsZScsIHsKICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgIHg6IHgsCiAgICAgICAgICAgIHk6IHksCiAgICAgICAgICAgIHI6IDExLAogICAgICAgICAgICBmaWxsOiAnIzAwMCcsCiAgICAgICAgICAgIG9wYWNpdHk6IDAKICAgICAgICAgIH0sCiAgICAgICAgICB6SW5kZXg6IDIsCiAgICAgICAgICBub2RlSWQ6IGdyb3VwLmdldCgnaWQnKSwKICAgICAgICAgIGNsYXNzTmFtZTogJ25vZGUtYW5jaG9yLWdyb3VwJywKICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZSwKICAgICAgICAgIGlzQW5jaG9yOiB0cnVlLAogICAgICAgICAgaW5kZXg6IGkKICAgICAgICB9KTsKICAgICAgICBhbmNob3JFdmVudChhbmNob3JHcm91cCwgZ3JvdXAsIHApOwogICAgICAgIGdyb3VwLmFuY2hvclNoYXBlcy5wdXNoKGFuY2hvcik7CiAgICAgICAgZ3JvdXAuYW5jaG9yU2hhcGVzLnB1c2goYW5jaG9yR3JvdXApOwogICAgICB9KTsKICAgICAgZ3JvdXAuZ2V0QWxsQW5jaG9ycyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gZ3JvdXAuYW5jaG9yU2hhcGVzLmZpbHRlcihmdW5jdGlvbiAoYykgewogICAgICAgICAgcmV0dXJuIGMuZ2V0KCdpc0FuY2hvcicpID09PSB0cnVlOwogICAgICAgIH0pOwogICAgICB9OwogICAgICBncm91cC5nZXRBbmNob3IgPSBmdW5jdGlvbiAoaSkgewogICAgICAgIHJldHVybiBncm91cC5hbmNob3JTaGFwZXMuZmlsdGVyKGZ1bmN0aW9uIChjKSB7CiAgICAgICAgICByZXR1cm4gYy5nZXQoJ2NsYXNzTmFtZScpID09PSAnbm9kZS1hbmNob3InICYmIGMuZ2V0KCdpbmRleCcpID09PSBpOwogICAgICAgIH0pOwogICAgICB9OwogICAgICBncm91cC5nZXRBbGxBbmNob3JCZyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gZ3JvdXAuYW5jaG9yU2hhcGVzLmZpbHRlcihmdW5jdGlvbiAoYykgewogICAgICAgICAgcmV0dXJuIGMuZ2V0KCdjbGFzc05hbWUnKSA9PT0gJ25vZGUtYW5jaG9yLWJnJzsKICAgICAgICB9KTsKICAgICAgfTsKICAgIH0sCiAgICAvKiBodHRwczovL2c2LmFudHYudmlzaW9uL3poL2RvY3MvbWFudWFsL2FkdmFuY2VkL2tleWNvbmNlcHQvc2hhcGUtYW5kLXByb3BlcnRpZXMvIyVFNiU5NiU4NyVFNiU5QyVBQy10ZXh0ICovYWRkTGFiZWw6IGZ1bmN0aW9uIGFkZExhYmVsKGNmZywgZ3JvdXAsIGF0dHJzKSB7CiAgICAgIHZhciBsYWJlbCA9IGF0dHJzLmxhYmVsLAogICAgICAgIGxhYmVsQ2ZnID0gYXR0cnMubGFiZWxDZmcsCiAgICAgICAgbGFiZWxzID0gYXR0cnMubGFiZWxzOwoKICAgICAgLyogaWYgKGxhYmVsQ2ZnICYmIGxhYmVsQ2ZnLmZvbnRTaXplIDwgMTIpIHsNCiAgICAgICAgbGFiZWxDZmcuZm9udFNpemUgPSAxMjsNCiAgICAgIH0gKi8KCiAgICAgIGlmIChsYWJlbHMpIHsKICAgICAgICBsYWJlbHMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgdmFyIGxhYmVsID0gaXRlbS5sYWJlbCwKICAgICAgICAgICAgbWF4bGVuZ3RoID0gaXRlbS5sYWJlbENmZy5tYXhsZW5ndGgsCiAgICAgICAgICAgIGNsYXNzTmFtZSA9IGl0ZW0uY2xhc3NOYW1lOwogICAgICAgICAgdmFyIHRleHQgPSBtYXhsZW5ndGggPyBsYWJlbC5zdWJzdHIoMCwgbWF4bGVuZ3RoKSA6IGxhYmVsIHx8ICcnOwogICAgICAgICAgaWYgKGxhYmVsLmxlbmd0aCA+IG1heGxlbmd0aCkgewogICAgICAgICAgICB0ZXh0ID0gIiIuY29uY2F0KHRleHQsICIuLi4iKTsKICAgICAgICAgIH0KICAgICAgICAgIGdyb3VwLmFkZFNoYXBlKCd0ZXh0JywgewogICAgICAgICAgICBhdHRyczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoewogICAgICAgICAgICAgIHRleHQ6IHRleHQKICAgICAgICAgICAgfSwgaXRlbSksIGl0ZW0ubGFiZWxDZmcpLCBpdGVtLmxhYmVsQ2ZnLnN0eWxlKSwKICAgICAgICAgICAgY2xhc3NOYW1lOiAibm9kZS10ZXh0ICIuY29uY2F0KGNsYXNzTmFtZSksCiAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAobGFiZWwpIHsKICAgICAgICB2YXIgbWF4bGVuZ3RoID0gbGFiZWxDZmcubWF4bGVuZ3RoOwogICAgICAgIHZhciB0ZXh0ID0gbWF4bGVuZ3RoID8gbGFiZWwuc3Vic3RyKDAsIG1heGxlbmd0aCkgOiBsYWJlbCB8fCAnJzsKICAgICAgICBpZiAobGFiZWwubGVuZ3RoID4gbWF4bGVuZ3RoKSB7CiAgICAgICAgICB0ZXh0ID0gIiIuY29uY2F0KHRleHQsICIuLi4iKTsKICAgICAgICB9CiAgICAgICAgZ3JvdXAuYWRkU2hhcGUoJ3RleHQnLCB7CiAgICAgICAgICBhdHRyczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHsKICAgICAgICAgICAgdGV4dDogdGV4dCwKICAgICAgICAgICAgeDogMCwKICAgICAgICAgICAgeTogMAogICAgICAgICAgfSwgbGFiZWxDZmcpLCBsYWJlbENmZy5zdHlsZSksCiAgICAgICAgICBjbGFzc05hbWU6ICdub2RlLXRleHQnLAogICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBkcmF3TW9kZWxSZWN0OiBmdW5jdGlvbiBkcmF3TW9kZWxSZWN0KGdyb3VwLCBhdHRycykgewogICAgICB2YXIgcHJlUmVjdCA9IGF0dHJzLnByZVJlY3QsCiAgICAgICAgd2lkdGggPSBhdHRycy53aWR0aCwKICAgICAgICBoZWlnaHQgPSBhdHRycy5oZWlnaHQ7CiAgICAgIHZhciAkcHJlUmVjdCA9IHsKICAgICAgICBzaG93OiB0cnVlLAogICAgICAgIHdpZHRoOiA0LAogICAgICAgIGZpbGw6ICcjNDBhOWZmJywKICAgICAgICByYWRpdXM6IDIKICAgICAgfTsKICAgICAgaWYgKCFwcmVSZWN0IHx8IHByZVJlY3Quc2hvdyAhPT0gZmFsc2UpIHsKICAgICAgICBncm91cC5hZGRTaGFwZSgncmVjdCcsIHsKICAgICAgICAgIGF0dHJzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoewogICAgICAgICAgICB4OiAtd2lkdGggLyAyLAogICAgICAgICAgICB5OiAtaGVpZ2h0IC8gMiwKICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHQKICAgICAgICAgIH0sICRwcmVSZWN0KSwgcHJlUmVjdCksCiAgICAgICAgICBkcmFnZ2FibGU6IHRydWUKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGRyYXc6IGZ1bmN0aW9uIGRyYXcoY2ZnLCBncm91cCkgewogICAgICByZXR1cm4gdGhpcy5kcmF3U2hhcGUoY2ZnLCBncm91cCk7CiAgICB9LAogICAgZHJhd1NoYXBlOiBmdW5jdGlvbiBkcmF3U2hhcGUoY2ZnLCBncm91cCkgewogICAgICB2YXIgYXR0cnMgPSB0aGlzLmdldFNoYXBlU3R5bGUoY2ZnLCBncm91cCk7CiAgICAgIHZhciBzaGFwZSA9IGdyb3VwLmFkZFNoYXBlKHRoaXMuc2hhcGVUeXBlLCB7CiAgICAgICAgY2xhc3NOYW1lOiAiIi5jb25jYXQodGhpcy5zaGFwZVR5cGUsICItc2hhcGUiKSwKICAgICAgICB4U2hhcGVOb2RlOiB0cnVlLAogICAgICAgIGRyYWdnYWJsZTogdHJ1ZSwKICAgICAgICBhdHRyczogYXR0cnMKICAgICAgfSk7CiAgICAgIGdyb3VwLiRnZXRJdGVtID0gZnVuY3Rpb24gKGNsYXNzTmFtZSkgewogICAgICAgIHJldHVybiBncm91cC5nZXQoJ2NoaWxkcmVuJykuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIGl0ZW0uZ2V0KCdjbGFzc05hbWUnKSA9PT0gY2xhc3NOYW1lOwogICAgICAgIH0pOwogICAgICB9OwogICAgICBpZiAodGhpcy50eXBlID09PSAnbW9kZWxSZWN0LW5vZGUnKSB7CiAgICAgICAgdGhpcy5kcmF3TW9kZWxSZWN0KGdyb3VwLCBhdHRycyk7CiAgICAgIH0KICAgICAgdGhpcy5hZGRMYWJlbChjZmcsIGdyb3VwLCBhdHRycyk7CiAgICAgIHRoaXMuZHJhd0ljb24oY2ZnLCBncm91cCwgYXR0cnMpOwogICAgICB0aGlzLmluaXRBbmNob3IoY2ZnLCBncm91cCk7CiAgICAgIHJldHVybiBzaGFwZTsKICAgIH0sCiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShjZmcsIG5vZGUpIHsKICAgICAgdmFyIG1vZGVsID0gbm9kZS5nZXQoJ21vZGVsJyk7CiAgICAgIHZhciBfbm9kZSRnZXQgPSBub2RlLmdldCgna2V5U2hhcGUnKSwKICAgICAgICBhdHRycyA9IF9ub2RlJGdldC5hdHRyczsKICAgICAgdmFyIHRleHQgPSBub2RlLmdldCgnZ3JvdXAnKS4kZ2V0SXRlbSgnbm9kZS10ZXh0Jyk7CiAgICAgIHZhciBpdGVtID0gbm9kZS5nZXQoJ2dyb3VwJykuZ2V0KCdjaGlsZHJlbicpWzBdOwogICAgICB0ZXh0ICYmIHRleHQuYXR0cihfb2JqZWN0U3ByZWFkKHsKICAgICAgICB0ZXh0OiBtb2RlbC5sYWJlbAogICAgICB9LCBtb2RlbC5sYWJlbENmZy5zdHlsZSkpOwogICAgICBpdGVtLmF0dHIoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBhdHRycyksIG1vZGVsLnN0eWxlKSk7CiAgICB9LAogICAgc2V0U3RhdGU6IGZ1bmN0aW9uIHNldFN0YXRlKG5hbWUsIHZhbHVlLCBpdGVtKSB7CiAgICAgIHZhciBidWlsZEluRXZlbnRzID0gWydhbmNob3JTaG93JywgJ2FuY2hvckFjdGl2ZWQnLCAnbm9kZVN0YXRlJywgJ25vZGVTdGF0ZTpkZWZhdWx0JywgJ25vZGVTdGF0ZTpzZWxlY3RlZCcsICdub2RlU3RhdGU6aG92ZXInLCAnbm9kZU9uRHJhZ1N0YXJ0JywgJ25vZGVPbkRyYWcnLCAnbm9kZU9uRHJhZ0VuZCddOwogICAgICB2YXIgZ3JvdXAgPSBpdGVtLmdldENvbnRhaW5lcigpOwogICAgICBpZiAoZ3JvdXAuZ2V0KCdkZXN0cm95ZWQnKSkgcmV0dXJuOwogICAgICBpZiAoYnVpbGRJbkV2ZW50cy5pbmNsdWRlcyhuYW1lKSkgewogICAgICAgIGl0ZW1FdmVudHNbbmFtZV0uY2FsbCh0aGlzLCB2YWx1ZSwgZ3JvdXApOwogICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGVBcHBseWluZykgewogICAgICAgIHRoaXMuc3RhdGVBcHBseWluZy5jYWxsKHRoaXMsIG5hbWUsIHZhbHVlLCBpdGVtKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLndhcm4oIndhcm5pbmc6ICIuY29uY2F0KG5hbWUsICIgbm90IHJlZ2lzdGVkIVxuIikpOwogICAgICB9CiAgICB9LAogICAgZ2V0QW5jaG9yUG9pbnRzOiBmdW5jdGlvbiBnZXRBbmNob3JQb2ludHMoY2ZnKSB7CiAgICAgIHJldHVybiBjZmcuYW5jaG9yUG9pbnRzIHx8IFtbMC41LCAwXSwgWzEsIDAuNV0sIFswLjUsIDFdLCBbMCwgMC41XV07CiAgICB9CiAgfSwgJ3NpbmdsZS1ub2RlJyk7Cn0pOw=="},{"version":3,"names":["itemEvents","anchorEvent","defaultStyles","iconStyles","nodeStyles","anchorPointStyles","nodeLabelStyles","getStyle","options","cfg","_objectSpread","style","labelCfg","nodeStateStyles","anchorHotsoptStyles","G6","registerNode","getShapeStyle","width","height","call","radius","x","y","drawIcon","group","attrs","logoIcon","stateIcon","icons","forEach","$item","index","className","concat","type","item","$getItem","icon","addShape","img","draggable","toFront","show","hide","initAnchor","_this","anchorShapes","showAnchor","drawAnchor","clearAnchor","a","remove","_group$getFirst$attr","getFirst","attr","direction","get","bBox","getBBox","anchors","getAnchorPoints","p","i","diff","anchor","zIndex","nodeId","isAnchor","anchorGroup","r","fill","opacity","push","getAllAnchors","filter","c","getAnchor","getAllAnchorBg","addLabel","label","labels","maxlength","text","substr","length","drawModelRect","preRect","$preRect","draw","drawShape","shape","shapeType","xShapeNode","find","update","node","model","_node$get","setState","name","value","buildInEvents","getContainer","includes","stateApplying","console","warn","anchorPoints"],"sources":["F:/fGPT/foundryGPT/frontend/src/components/graph/shape/items/base-node.js"],"sourcesContent":["\r\nimport itemEvents from './item-event';\r\nimport anchorEvent from './anchor-event';\r\nimport defaultStyles from '../defaultStyles';\r\n\r\nconst {\r\n  iconStyles,\r\n  nodeStyles,\r\n  anchorPointStyles,\r\n  nodeLabelStyles,\r\n} = defaultStyles;\r\n\r\nfunction getStyle (options, cfg) {\r\n  return {\r\n    ...cfg,\r\n\r\n    ...nodeStyles,\r\n    ...options,\r\n\r\n    ...cfg.style,\r\n\r\n    labelCfg: {\r\n      ...nodeLabelStyles,\r\n      ...cfg.labelCfg,\r\n    },\r\n\r\n    iconStyles: {\r\n      ...iconStyles,\r\n      ...cfg.iconStyles,\r\n    },\r\n\r\n    anchorPointStyles: {\r\n      ...anchorPointStyles,\r\n      ...cfg.anchorPointStyles,\r\n    },\r\n    ...cfg.nodeStateStyles,\r\n\r\n    anchorHotsoptStyles: cfg.anchorHotsoptStyles,\r\n  };\r\n}\r\n\r\nexport default G6 => {\r\n  G6.registerNode('base-node', {\r\n    getShapeStyle (cfg) {\r\n      const width = cfg.style.width || 80;\r\n      const height = cfg.style.height || 40;\r\n\r\n      return getStyle.call(this, {\r\n        width,\r\n        height,\r\n        radius: 5,\r\n        x:      -width / 2,\r\n        y:      -height / 2,\r\n      }, cfg);\r\n    },\r\n\r\n    drawIcon (cfg, group, attrs) {\r\n      const { logoIcon, stateIcon } = attrs;\r\n      const icons = [logoIcon, stateIcon];\r\n\r\n      icons.forEach(($item, index) => {\r\n        if ($item) {\r\n          const className = `${attrs.type}-${index === 0 ? 'logoIcon' : 'stateIcon'}`;\r\n\r\n          let item = group.$getItem(className);\r\n\r\n          if (!item) {\r\n            const icon = group.addShape($item.img ? 'image' : 'text', {\r\n              attrs: {\r\n                ...$item,\r\n                ...$item.style,\r\n              },\r\n              draggable: true,\r\n              className,\r\n            });\r\n\r\n            icon.toFront();\r\n            item = group.$getItem(className);\r\n          }\r\n\r\n          if (item) {\r\n            if ($item.show) {\r\n              item.show();\r\n            } else {\r\n              item.hide();\r\n            }\r\n          }\r\n        }\r\n      });\r\n    },\r\n\r\n    initAnchor (cfg, group) {\r\n      group.anchorShapes = [];\r\n      group.showAnchor = group => {\r\n        this.drawAnchor(cfg, group);\r\n      };\r\n      group.clearAnchor = group => {\r\n        group.anchorShapes && group.anchorShapes.forEach(a => a.remove());\r\n        group.anchorShapes = [];\r\n      };\r\n    },\r\n    drawAnchor (cfg, group) {\r\n      const { type, direction, anchorPointStyles } = group.getFirst().attr();\r\n      const item = group.get('children')[0];\r\n      const bBox = item.getBBox();\r\n      const anchors = this.getAnchorPoints(cfg);\r\n\r\n\r\n      anchors && anchors.forEach((p, i) => {\r\n        const diff = type === 'triangle-node' ? (direction === 'up' ? 1 : 0) : 0.5;\r\n        const x = bBox.width * (p[0] - 0.5);\r\n        const y = bBox.height * (p[1] - diff);\r\n\r\n\r\n        \r\n        const anchor = group.addShape('circle', {\r\n          attrs: {\r\n            x,\r\n            y,\r\n            ...anchorPointStyles,\r\n          },\r\n          zIndex:    1,\r\n          nodeId:    group.get('id'),\r\n          className: 'node-anchor',\r\n          draggable: true,\r\n          isAnchor:  true,\r\n          index:     i,\r\n        });\r\n\r\n\r\n        const anchorGroup = group.addShape('circle', {\r\n          attrs: {\r\n            x,\r\n            y,\r\n            r:       11,\r\n            fill:    '#000',\r\n            opacity: 0,\r\n          },\r\n          zIndex:    2,\r\n          nodeId:    group.get('id'),\r\n          className: 'node-anchor-group',\r\n          draggable: true,\r\n          isAnchor:  true,\r\n          index:     i,\r\n        });\r\n\r\n\r\n        \r\n        anchorEvent(anchorGroup, group, p);\r\n\r\n        group.anchorShapes.push(anchor);\r\n        group.anchorShapes.push(anchorGroup);\r\n      });\r\n\r\n\r\n      group.getAllAnchors = () => {\r\n        return group.anchorShapes.filter(c => c.get('isAnchor') === true);\r\n      };\r\n\r\n      group.getAnchor = (i) => {\r\n        return group.anchorShapes.filter(c => c.get('className') === 'node-anchor' && c.get('index') === i);\r\n      };\r\n\r\n      group.getAllAnchorBg = () => {\r\n        return group.anchorShapes.filter(c => c.get('className') === 'node-anchor-bg');\r\n      };\r\n    },\r\n\r\n    /* https://g6.antv.vision/zh/docs/manual/advanced/keyconcept/shape-and-properties/#%E6%96%87%E6%9C%AC-text */\r\n    addLabel (cfg, group, attrs) {\r\n      const { label, labelCfg, labels } = attrs;\r\n\r\n      /* if (labelCfg && labelCfg.fontSize < 12) {\r\n        labelCfg.fontSize = 12;\r\n      } */\r\n\r\n\r\n      if (labels) {\r\n        labels.forEach(item => {\r\n          const { label, labelCfg: { maxlength }, className } = item;\r\n\r\n          let text = maxlength ? label.substr(0, maxlength) : label || '';\r\n\r\n          if (label.length > maxlength) {\r\n            text = `${text}...`;\r\n          }\r\n\r\n          group.addShape('text', {\r\n            attrs: {\r\n              text,\r\n              ...item,\r\n              ...item.labelCfg,\r\n              ...item.labelCfg.style,\r\n            },\r\n            className: `node-text ${className}`,\r\n            draggable: true,\r\n          });\r\n        });\r\n      } else if (label) {\r\n        const { maxlength } = labelCfg;\r\n\r\n        let text = maxlength ? label.substr(0, maxlength) : label || '';\r\n\r\n        if (label.length > maxlength) {\r\n          text = `${text}...`;\r\n        }\r\n\r\n        group.addShape('text', {\r\n            attrs: {\r\n              text,\r\n              x: 0,\r\n              y: 0,\r\n              ...labelCfg,\r\n              ...labelCfg.style,\r\n            },\r\n            className: 'node-text',\r\n            draggable: true,\r\n          });\r\n      }\r\n    },\r\n    drawModelRect (group, attrs) {\r\n      const { preRect, width, height } = attrs;\r\n      const $preRect = {\r\n        show:   true, \r\n        width:  4,\r\n        fill:   '#40a9ff',\r\n        radius: 2,\r\n      };\r\n\r\n      if (!preRect || preRect.show !== false) {\r\n        group.addShape('rect', {\r\n          attrs: {\r\n            x: -width / 2,\r\n            y: -height / 2,\r\n            height,\r\n            ...$preRect,\r\n            ...preRect,\r\n          },\r\n          draggable: true,\r\n        });\r\n      }\r\n    },\r\n\r\n    draw (cfg, group) {\r\n      return this.drawShape(cfg, group);\r\n    },\r\n\r\n    drawShape (cfg, group) { \r\n\r\n      const attrs = this.getShapeStyle(cfg, group);\r\n\r\n      const shape = group.addShape(this.shapeType, {\r\n        className:  `${this.shapeType}-shape`,\r\n        xShapeNode: true, \r\n        draggable:  true,\r\n        attrs,\r\n      });\r\n\r\n\r\n      group.$getItem = className => {\r\n        return group.get('children').find(item => item.get('className') === className);\r\n      };\r\n\r\n      if (this.type === 'modelRect-node') {\r\n        this.drawModelRect(group, attrs);\r\n      }\r\n\r\n      this.addLabel(cfg, group, attrs);\r\n\r\n      this.drawIcon(cfg, group, attrs);\r\n\r\n      this.initAnchor(cfg, group);\r\n\r\n      return shape;\r\n    },\r\n\r\n    update (cfg, node) {\r\n      const model = node.get('model');\r\n      const { attrs } = node.get('keyShape');\r\n      const text = node.get('group').$getItem('node-text');\r\n      const item = node.get('group').get('children')[0];\r\n\r\n\r\n      text && text.attr({\r\n        text: model.label,\r\n      ...model.labelCfg.style,\r\n      });\r\n\r\n      item.attr({ ...attrs, ...model.style });\r\n    },\r\n\r\n    setState (name, value, item) {\r\n      const buildInEvents = [\r\n        'anchorShow',\r\n        'anchorActived',\r\n        'nodeState',\r\n        'nodeState:default',\r\n        'nodeState:selected',\r\n        'nodeState:hover',\r\n        'nodeOnDragStart',\r\n        'nodeOnDrag',\r\n        'nodeOnDragEnd',\r\n      ];\r\n      const group = item.getContainer();\r\n\r\n      if (group.get('destroyed')) return;\r\n      if (buildInEvents.includes(name)) {\r\n\r\n        itemEvents[name].call(this, value, group);\r\n      } else if (this.stateApplying) {\r\n        this.stateApplying.call(this, name, value, item);\r\n      } else {\r\n        console.warn(`warning: ${name} not registed!\\n`);\r\n      }\r\n    },\r\n\r\n    getAnchorPoints (cfg) {\r\n      return cfg.anchorPoints || [\r\n        [0.5, 0],\r\n        [1, 0.5],\r\n        [0.5, 1],\r\n        [0, 0.5],\r\n      ];\r\n    },\r\n  }, 'single-node');\r\n};\r\n"],"mappings":"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"}]}