{"remainingRequest":"D:\\develop_ryx\\foundryGPT\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\develop_ryx\\foundryGPT\\frontend\\src\\components\\graph\\shape\\edges\\edge-animations.js","dependencies":[{"path":"D:\\develop_ryx\\foundryGPT\\frontend\\src\\components\\graph\\shape\\edges\\edge-animations.js","mtime":1687240076000},{"path":"D:\\develop_ryx\\foundryGPT\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\develop_ryx\\foundryGPT\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Y29uc3QgYmFsbCA9IHsKICBydW4oZ3JvdXApIHsKICAgIGNvbnN0IHBhdGggPSBncm91cC5nZXQoJ2NoaWxkcmVuJylbMF07CiAgICBjb25zdCBlbmRBcnJvd1NoYXBlID0gcGF0aC5nZXQoJ2VuZEFycm93U2hhcGUnKTsKICAgIGNvbnN0IGFycm93U2l6ZSA9IGVuZEFycm93U2hhcGUgPyBlbmRBcnJvd1NoYXBlLmdldCgnYmJveCcpID8gTWF0aC5tYXgoZW5kQXJyb3dTaGFwZS5nZXQoJ2Jib3gnKS53aWR0aCwgZW5kQXJyb3dTaGFwZS5nZXQoJ2Jib3gnKS5oZWlnaHQpIDogMCA6IDA7CiAgICBjb25zdCBzdGFydFBvaW50ID0gcGF0aC5nZXRQb2ludCgwKTsKICAgIGNvbnN0IGxlbmd0aCA9IHBhdGguZ2V0VG90YWxMZW5ndGgoKTsKICAgIGNvbnN0IG51bSA9IE1hdGguZmxvb3IobGVuZ3RoIC8gMTAwKSB8fCAxOwogICAgaWYgKGxlbmd0aCA8PSA0MCkgcmV0dXJuOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW07IGkrKykgewogICAgICBjb25zdCB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgY29uc3QgY2lyY2xlID0gZ3JvdXAuYWRkU2hhcGUoJ2NpcmNsZScsIHsKICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgIHg6IHN0YXJ0UG9pbnQueCwKICAgICAgICAgICAgeTogc3RhcnRQb2ludC55LAogICAgICAgICAgICBmaWxsOiAnIzE4OTBmZicsCiAgICAgICAgICAgIHI6IDIKICAgICAgICAgIH0sCiAgICAgICAgICBjbGFzc05hbWU6ICdlZGdlLXJ1bm5lcicsCiAgICAgICAgICBuYW1lOiAnZWRnZS1ydW5uZXInCiAgICAgICAgfSk7CiAgICAgICAgY2lyY2xlLmFuaW1hdGUocmF0aW8gPT4gewogICAgICAgICAgY29uc3QgdG1wUG9pbnQgPSBwYXRoLmdldFBvaW50KHJhdGlvKTsKICAgICAgICAgIGNvbnN0IG9wYWNpdHkgPSBsZW5ndGggLSBsZW5ndGggKiByYXRpbyA+PSBhcnJvd1NpemUgPyAxIDogMDsKICAgICAgICAgIGNpcmNsZS5zZXQoJ2hhc0NoYW5nZWQnLCBmYWxzZSk7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAuLi50bXBQb2ludCwKICAgICAgICAgICAgb3BhY2l0eQogICAgICAgICAgfTsKICAgICAgICB9LCB7CiAgICAgICAgICBkdXJhdGlvbjogbGVuZ3RoID49IDEwMCA/IGxlbmd0aCAqIDMgOiBsZW5ndGggKiA1LAogICAgICAgICAgcmVwZWF0OiB0cnVlCiAgICAgICAgfSk7CiAgICAgIH0sIGkgKiBsZW5ndGgpOwogICAgICBncm91cC5ydW5uZXJzLnB1c2godGltZW91dCk7CiAgICB9CiAgfSwKICBzdG9wKGdyb3VwKSB7CiAgICBjb25zdCBydW5uZXJzID0gW107CiAgICBncm91cC5nZXQoJ2NoaWxkcmVuJykuZm9yRWFjaChjaGlsZCA9PiB7CiAgICAgIGlmIChjaGlsZC5nZXQoJ2NsYXNzTmFtZScpID09PSAnZWRnZS1ydW5uZXInKSB7CiAgICAgICAgY2hpbGQuc3RvcEFuaW1hdGUoKTsKICAgICAgICBydW5uZXJzLnB1c2goY2hpbGQpOwogICAgICB9CiAgICB9KTsKICAgIHJ1bm5lcnMuZm9yRWFjaChydW5uZXIgPT4gcnVubmVyLnJlbW92ZSgpKTsKICAgIGdyb3VwLnJ1bm5lcnMuZm9yRWFjaChzZXR0aW1lb3V0ID0+IHsKICAgICAgY2xlYXJUaW1lb3V0KHNldHRpbWVvdXQpOwogICAgfSk7CiAgICBncm91cC5ydW5uaW5nID0gZmFsc2U7CiAgfQp9Owpjb25zdCBkYXNoID0gewogIHJ1bihncm91cCkgewogICAgbGV0IGluZGV4ID0gMDsKICAgIGNvbnN0IHBhdGggPSBncm91cC5nZXQoJ2NoaWxkcmVuJylbMF07CiAgICBjb25zdCBkYXNoTGluZSA9IGdyb3VwLmFkZFNoYXBlKCdwYXRoJywgewogICAgICBhdHRyczogewogICAgICAgIG9mZnNldDogcGF0aC5hdHRycy5vZmZzZXQsCiAgICAgICAgcGF0aDogcGF0aC5hdHRycy5wYXRoLAogICAgICAgIHN0cm9rZTogJyNmZmYnLAogICAgICAgIHN0YXJ0QXJyb3c6IGZhbHNlLAogICAgICAgIGVuZEFycm93OiBmYWxzZQogICAgICB9LAogICAgICBuYW1lOiAnZWRnZS1kYXNoJwogICAgfSk7CiAgICBkYXNoTGluZS5hbmltYXRlKHJhZGlvID0+IHsKICAgICAgaW5kZXgrKzsKICAgICAgaWYgKGluZGV4ID4gOSkgewogICAgICAgIGluZGV4ID0gMDsKICAgICAgfQogICAgICByZXR1cm4gewogICAgICAgIGxpbmVEYXNoOiBbMiwgMSwgMiwgNF0sCiAgICAgICAgbGluZURhc2hPZmZzZXQ6IC1pbmRleAogICAgICB9OwogICAgfSwgewogICAgICByZXBlYXQ6IHRydWUsCiAgICAgIGR1cmF0aW9uOiAzMDAwCiAgICB9KTsKICB9LAogIHN0b3AoZ3JvdXApIHsKICAgIGNvbnN0IHBhdGggPSBncm91cC5nZXQoJ2NoaWxkcmVuJykuZmluZChpdGVtID0+IGl0ZW0uY2ZnLm5hbWUgPT09ICdlZGdlLWRhc2gnKTsKICAgIGlmIChwYXRoKSB7CiAgICAgIHBhdGgucmVtb3ZlKCk7CiAgICAgIGdyb3VwLnJ1bm5pbmcgPSBmYWxzZTsKICAgIH0KICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBiYWxsLAogIGRhc2gKfTs="},{"version":3,"names":["ball","run","group","path","get","endArrowShape","arrowSize","Math","max","width","height","startPoint","getPoint","length","getTotalLength","num","floor","i","timeout","setTimeout","circle","addShape","attrs","x","y","fill","r","className","name","animate","ratio","tmpPoint","opacity","set","duration","repeat","runners","push","stop","forEach","child","stopAnimate","runner","remove","settimeout","clearTimeout","running","dash","index","dashLine","offset","stroke","startArrow","endArrow","radio","lineDash","lineDashOffset","find","item","cfg"],"sources":["D:/develop_ryx/foundryGPT/frontend/src/components/graph/shape/edges/edge-animations.js"],"sourcesContent":["\r\n\r\nconst ball = {\r\n  run (group) {\r\n\r\n    const path = group.get('children')[0];\r\n    const endArrowShape = path.get('endArrowShape');\r\n    const arrowSize = endArrowShape ? (endArrowShape.get('bbox') ? Math.max(endArrowShape.get('bbox').width, endArrowShape.get('bbox').height) : 0) : 0;\r\n    const startPoint = path.getPoint(0);\r\n    const length = path.getTotalLength();\r\n    const num = Math.floor(length / 100) || 1;\r\n\r\n    if (length <= 40) return; \r\n    \r\n    for (let i = 0; i < num; i++) {\r\n      const timeout = setTimeout(() => {\r\n        const circle = group.addShape('circle', {\r\n          attrs: {\r\n            x:    startPoint.x,\r\n            y:    startPoint.y,\r\n            fill: '#1890ff',\r\n            r:    2,\r\n          },\r\n          className: 'edge-runner',\r\n          name:      'edge-runner',\r\n        });\r\n\r\n        circle.animate(\r\n          ratio => {\r\n            const tmpPoint = path.getPoint(ratio);\r\n            const opacity = length - length * ratio >= arrowSize ? 1 : 0;\r\n\r\n\r\n            circle.set('hasChanged', false);\r\n\r\n\r\n            return {\r\n              ...tmpPoint,\r\n              opacity,\r\n            };\r\n          },\r\n          {\r\n            duration: length >= 100 ? length * 3 : length * 5,\r\n            repeat:   true,\r\n          },\r\n        );\r\n      }, i * length);\r\n\r\n      group.runners.push(timeout);\r\n    }\r\n  },\r\n  stop (group) {\r\n    const runners = [];\r\n\r\n    group.get('children').forEach(child => {\r\n      if (child.get('className') === 'edge-runner') {\r\n        child.stopAnimate();\r\n        runners.push(child);\r\n      }\r\n    });\r\n\r\n    runners.forEach(runner => runner.remove());\r\n\r\n    group.runners.forEach(settimeout => {\r\n      clearTimeout(settimeout);\r\n    });\r\n    group.running = false;\r\n  },\r\n};\r\n\r\nconst dash = {\r\n  run (group) {\r\n    let index = 0;\r\n\r\n    const path = group.get('children')[0];\r\n    const dashLine = group.addShape('path', {\r\n      attrs: {\r\n        offset:     path.attrs.offset,\r\n        path:       path.attrs.path,\r\n        stroke:     '#fff',\r\n        startArrow: false,\r\n        endArrow:   false,\r\n      },\r\n      name: 'edge-dash',\r\n    });\r\n\r\n    dashLine.animate(\r\n      radio => {\r\n        index++;\r\n        if (index > 9) {\r\n          index = 0;\r\n        }\r\n        return {\r\n          lineDash:       [2, 1, 2, 4],\r\n          lineDashOffset: -index,\r\n        };\r\n      },\r\n      {\r\n        repeat:   true,\r\n        duration: 3000,\r\n      },\r\n    );\r\n  },\r\n  stop (group) {\r\n\r\n    const path = group.get('children').find(item => item.cfg.name === 'edge-dash');\r\n\r\n    if (path) {\r\n      path.remove();\r\n      group.running = false;\r\n    }\r\n  },\r\n};\r\n\r\nexport default {\r\n  ball,\r\n  dash,\r\n};\r\n"],"mappings":"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"}]}