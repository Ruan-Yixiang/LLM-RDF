{"remainingRequest":"D:\\kczx\\fGPT\\foundryGPT\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\kczx\\fGPT\\foundryGPT\\frontend\\src\\components\\graph\\behavior\\active-edge.js","dependencies":[{"path":"D:\\kczx\\fGPT\\foundryGPT\\frontend\\src\\components\\graph\\behavior\\active-edge.js","mtime":1687240295977},{"path":"D:\\kczx\\fGPT\\foundryGPT\\frontend\\babel.config.js","mtime":1645975640408},{"path":"D:\\kczx\\fGPT\\foundryGPT\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\kczx\\fGPT\\foundryGPT\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI7CmV4cG9ydCBkZWZhdWx0IChmdW5jdGlvbiAoRzYpIHsKICBHNi5yZWdpc3RlckJlaGF2aW9yKCdhY3RpdmUtZWRnZScsIHsKICAgIGdldERlZmF1bHRDZmc6IGZ1bmN0aW9uIGdldERlZmF1bHRDZmcoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgLy8gZWRpdE1vZGU6IGZhbHNlLCAKICAgICAgfTsKICAgIH0sCiAgICBnZXRFdmVudHM6IGZ1bmN0aW9uIGdldEV2ZW50cygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICAnY2FudmFzOmNsaWNrJzogJ29uQ2FudmFzQ2xpY2snLAogICAgICAgICdlZGdlOmNsaWNrJzogJ29uRWRnZUNsaWNrJywKICAgICAgICAnZWRnZTpkYmxjbGljayc6ICdvbmRibEVkZ2VDbGljaycsCiAgICAgICAgJ2VkZ2U6bW91c2VlbnRlcic6ICdvbk1vdXNlRW50ZXInLAogICAgICAgICdlZGdlOm1vdXNlbW92ZSc6ICdvbk1vdXNlTW92ZScsCiAgICAgICAgJ2VkZ2U6bW91c2VsZWF2ZSc6ICdvbk1vdXNlTGVhdmUnCiAgICAgIH07CiAgICB9LAogICAgc2hvdWxkQmVnaW46IGZ1bmN0aW9uIHNob3VsZEJlZ2luKGUpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9LAogICAgb25DYW52YXNDbGljazogZnVuY3Rpb24gb25DYW52YXNDbGljayhlKSB7CiAgICAgIHRoaXMuX2NsZWFyU2VsZWN0ZWQoKTsKICAgIH0sCiAgICBvbkVkZ2VDbGljazogZnVuY3Rpb24gb25FZGdlQ2xpY2soZSkgewogICAgICBpZiAoIXRoaXMuc2hvdWxkQmVnaW4oZSkpIHJldHVybjsKICAgICAgdGhpcy5fY2xlYXJTZWxlY3RlZCgpOwogICAgICBlLml0ZW0uc2V0U3RhdGUoJ2VkZ2VTdGF0ZScsICdzZWxlY3RlZCcpOwogICAgICAvLyB0aGlzLmdyYXBoLnNldEl0ZW1TdGF0ZShlLml0ZW0sICdlZGdlU3RhdGUnLCAnc2VsZWN0ZWQnKTsKCiAgICAgIHRoaXMuZ3JhcGguZW1pdCgnYWZ0ZXItZWRnZS1zZWxlY3RlZCcsIGUpOwogICAgfSwKICAgIG9uZGJsRWRnZUNsaWNrOiBmdW5jdGlvbiBvbmRibEVkZ2VDbGljayhlKSB7CiAgICAgIGlmICghdGhpcy5zaG91bGRCZWdpbihlKSkgcmV0dXJuOwogICAgICB0aGlzLl9jbGVhclNlbGVjdGVkKCk7CiAgICAgIGUuaXRlbS5zZXRTdGF0ZSgnZWRnZVN0YXRlJywgJ3NlbGVjdGVkJyk7CiAgICAgIHRoaXMuZ3JhcGguZW1pdCgnYWZ0ZXItZWRnZS1kYmxjbGljaycsIGUpOwogICAgfSwKICAgIC8vIGhvdmVyIGVkZ2UKICAgIG9uTW91c2VFbnRlcjogZnVuY3Rpb24gb25Nb3VzZUVudGVyKGUpIHsKICAgICAgaWYgKCF0aGlzLnNob3VsZEJlZ2luKGUpKSByZXR1cm47CiAgICAgIGlmICghZS5pdGVtLmhhc1N0YXRlKCdlZGdlU3RhdGU6aG92ZXInKSAmJiAhZS5pdGVtLmhhc1N0YXRlKCdlZGdlU3RhdGU6c2VsZWN0ZWQnKSkgewogICAgICAgIGUuaXRlbS5zZXRTdGF0ZSgnZWRnZVN0YXRlJywgJ2hvdmVyJyk7CiAgICAgIH0KICAgICAgdGhpcy5ncmFwaC5lbWl0KCdvbi1lZGdlLW1vdXNlZW50ZXInLCBlKTsKICAgIH0sCiAgICBvbk1vdXNlTW92ZTogZnVuY3Rpb24gb25Nb3VzZU1vdmUoZSkgewogICAgICBpZiAoIXRoaXMuc2hvdWxkQmVnaW4oZSkpIHJldHVybjsKICAgICAgdGhpcy5ncmFwaC5lbWl0KCdvbi1lZGdlLW1vdXNlbW92ZScsIGUpOwogICAgfSwKICAgIC8vIG91dCBlZGdlCiAgICBvbk1vdXNlTGVhdmU6IGZ1bmN0aW9uIG9uTW91c2VMZWF2ZShlKSB7CiAgICAgIGlmICghdGhpcy5zaG91bGRCZWdpbihlKSkgcmV0dXJuOwogICAgICBpZiAoIWUuaXRlbS5oYXNTdGF0ZSgnZWRnZVN0YXRlOnNlbGVjdGVkJykpIHsKICAgICAgICBlLml0ZW0uc2V0U3RhdGUoJ2VkZ2VTdGF0ZScsICdkZWZhdWx0Jyk7CiAgICAgIH0KICAgICAgdGhpcy5ncmFwaC5lbWl0KCdvbi1lZGdlLW1vdXNlbGVhdmUnLCBlKTsKICAgIH0sCiAgICBfY2xlYXJTZWxlY3RlZDogZnVuY3Rpb24gX2NsZWFyU2VsZWN0ZWQoKSB7CiAgICAgIHZhciBzZWxlY3RlZE5vZGVzID0gdGhpcy5ncmFwaC5maW5kQWxsQnlTdGF0ZSgnbm9kZScsICdub2RlU3RhdGU6c2VsZWN0ZWQnKTsKICAgICAgc2VsZWN0ZWROb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7CiAgICAgICAgbm9kZS5jbGVhclN0YXRlcygnbm9kZVN0YXRlOnNlbGVjdGVkJyk7CiAgICAgIH0pOwogICAgICB2YXIgc2VsZWN0ZWRFZGdlcyA9IHRoaXMuZ3JhcGguZmluZEFsbEJ5U3RhdGUoJ2VkZ2UnLCAnZWRnZVN0YXRlOnNlbGVjdGVkJyk7CiAgICAgIHNlbGVjdGVkRWRnZXMuZm9yRWFjaChmdW5jdGlvbiAoZWRnZSkgewogICAgICAgIGVkZ2UuY2xlYXJTdGF0ZXMoJ2VkZ2VTdGF0ZTpzZWxlY3RlZCcpOwogICAgICB9KTsKICAgICAgdGhpcy5ncmFwaC5lbWl0KCdhZnRlci1lZGdlLXNlbGVjdGVkJyk7CiAgICB9CiAgfSk7Cn0pOw=="},{"version":3,"names":["G6","registerBehavior","getDefaultCfg","getEvents","shouldBegin","e","onCanvasClick","_clearSelected","onEdgeClick","item","setState","graph","emit","ondblEdgeClick","onMouseEnter","hasState","onMouseMove","onMouseLeave","selectedNodes","findAllByState","forEach","node","clearStates","selectedEdges","edge"],"sources":["D:/kczx/fGPT/foundryGPT/frontend/src/components/graph/behavior/active-edge.js"],"sourcesContent":["\r\nexport default G6 => {\r\n  G6.registerBehavior('active-edge', {\r\n    getDefaultCfg() {\r\n      return {\r\n        // editMode: false, \r\n      };\r\n    },\r\n    getEvents() {\r\n      return {\r\n        'canvas:click':    'onCanvasClick',\r\n        'edge:click':      'onEdgeClick',\r\n        'edge:dblclick':   'ondblEdgeClick',\r\n        'edge:mouseenter': 'onMouseEnter',\r\n        'edge:mousemove':  'onMouseMove',\r\n        'edge:mouseleave': 'onMouseLeave',\r\n      };\r\n    },\r\n    shouldBegin (e) {\r\n      return true;\r\n    },\r\n    onCanvasClick(e) {\r\n      this._clearSelected();\r\n    },\r\n    onEdgeClick (e) {\r\n      if (!this.shouldBegin(e)) return;\r\n\r\n      this._clearSelected();\r\n\r\n      e.item.setState('edgeState', 'selected');\r\n      // this.graph.setItemState(e.item, 'edgeState', 'selected');\r\n\r\n      this.graph.emit('after-edge-selected', e);\r\n    },\r\n    ondblEdgeClick (e) {\r\n      if (!this.shouldBegin(e)) return;\r\n\r\n      this._clearSelected();\r\n\r\n      e.item.setState('edgeState', 'selected');\r\n\r\n      this.graph.emit('after-edge-dblclick', e);\r\n    },\r\n    // hover edge\r\n    onMouseEnter (e) {\r\n      if (!this.shouldBegin(e)) return;\r\n\r\n      if (!e.item.hasState('edgeState:hover') && !e.item.hasState('edgeState:selected')) {\r\n        e.item.setState('edgeState', 'hover');\r\n      }\r\n      this.graph.emit('on-edge-mouseenter', e);\r\n    },\r\n    onMouseMove (e) {\r\n      if (!this.shouldBegin(e)) return;\r\n\r\n      this.graph.emit('on-edge-mousemove', e);\r\n    },\r\n    // out edge\r\n    onMouseLeave (e) {\r\n      if (!this.shouldBegin(e)) return;\r\n\r\n      if (!e.item.hasState('edgeState:selected')) {\r\n        e.item.setState('edgeState', 'default');\r\n      }\r\n      this.graph.emit('on-edge-mouseleave', e);\r\n    },\r\n\r\n    _clearSelected() {\r\n      const selectedNodes = this.graph.findAllByState('node', 'nodeState:selected');\r\n\r\n      selectedNodes.forEach(node => {\r\n        node.clearStates('nodeState:selected');\r\n      });\r\n\r\n      const selectedEdges = this.graph.findAllByState('edge', 'edgeState:selected');\r\n\r\n      selectedEdges.forEach(edge => {\r\n        edge.clearStates('edgeState:selected');\r\n      });\r\n      this.graph.emit('after-edge-selected');\r\n    },\r\n  });\r\n};\r\n"],"mappings":"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"}]}