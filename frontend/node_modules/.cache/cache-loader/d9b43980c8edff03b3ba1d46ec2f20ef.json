{"remainingRequest":"D:\\develop_ryx\\foundryGPT\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\develop_ryx\\foundryGPT\\frontend\\src\\components\\graph\\shape\\edges\\base-edge.js","dependencies":[{"path":"D:\\develop_ryx\\foundryGPT\\frontend\\src\\components\\graph\\shape\\edges\\base-edge.js","mtime":1687240100000},{"path":"D:\\develop_ryx\\foundryGPT\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\develop_ryx\\foundryGPT\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGFuaW1hdGlvbiBmcm9tICcuL2VkZ2UtYW5pbWF0aW9ucyc7CmltcG9ydCBpdGVtRXZlbnRzIGZyb20gJy4uL2l0ZW1zL2l0ZW0tZXZlbnQnOwppbXBvcnQgaHZoX2ggZnJvbSAnLi9odmgtaC5qcyc7CmltcG9ydCBodmggZnJvbSAnLi9odmguanMnOwpmdW5jdGlvbiBkcmF3U2hhcGUoY2ZnLCBncm91cCkgewogIGdyb3VwLnJ1bm5pbmcgPSBmYWxzZTsKICBncm91cC5ydW5uZXJzID0gW107CiAgY29uc3Qgc2hhcGVTdHlsZSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZ2V0U2hhcGVTdHlsZShjZmcpLCB7CiAgICAuLi5jZmcuZWRnZVN0YXRlU3R5bGVzCiAgfSk7CiAgY29uc3Qga2V5U2hhcGUgPSBncm91cC5hZGRTaGFwZSgncGF0aCcsIHsKICAgIGNsYXNzTmFtZTogJ2VkZ2Utc2hhcGUnLAogICAgbmFtZTogJ2VkZ2Utc2hhcGUnLAogICAgYXR0cnM6IHNoYXBlU3R5bGUKICB9KTsKICByZXR1cm4ga2V5U2hhcGU7Cn0KZnVuY3Rpb24gc2V0U3RhdGUobmFtZSwgdmFsdWUsIGl0ZW0pIHsKICBjb25zdCBidWlsZEluRXZlbnRzID0gWydlZGdlU3RhdGUnLCAnZWRnZVN0YXRlOmRlZmF1bHQnLCAnZWRnZVN0YXRlOnNlbGVjdGVkJywgJ2VkZ2VTdGF0ZTpob3ZlciddOwogIGNvbnN0IGdyb3VwID0gaXRlbS5nZXRDb250YWluZXIoKTsKICBpZiAoZ3JvdXAuZ2V0KCdkZXN0cm95ZWQnKSkgcmV0dXJuOwogIGlmIChidWlsZEluRXZlbnRzLmluY2x1ZGVzKG5hbWUpKSB7CiAgICBpdGVtRXZlbnRzW25hbWVdLmNhbGwodGhpcywgdmFsdWUsIGdyb3VwKTsKICB9IGVsc2UgaWYgKHRoaXMuc3RhdGVBcHBseWluZykgewogICAgdGhpcy5zdGF0ZUFwcGx5aW5nLmNhbGwodGhpcywgbmFtZSwgdmFsdWUsIGl0ZW0pOwogIH0gZWxzZSB7CiAgICBjb25zb2xlLndhcm4oYHdhcm5pbmc6IGVkZ2UgJHtuYW1lfSDkuovku7blm57osIPmnKrms6jlhowhYCk7CiAgfQp9CmZ1bmN0aW9uIHJ1bkFuaW1hdGUoZ3JvdXAsIGFuaW1hdGlvblR5cGUpIHsKICBpZiAoZ3JvdXAucnVubmluZykgcmV0dXJuOwogIC8vIGdyb3VwLnJ1bm5pbmcgPSB0cnVlOwogIC8vIGdyb3VwLnRvRnJvbnQoKTsKICAvLyBhbmltYXRpb25bYW5pbWF0aW9uVHlwZV0ucnVuLmNhbGwodGhpcywgZ3JvdXApOwp9Ci8vIGZ1bmN0aW9uIHJ1bkFuaW1hdGUgKGdyb3VwLCBhbmltYXRpb25UeXBlKSB7Ci8vICAgaWYgKGdyb3VwLnJ1bm5pbmcpIHJldHVybjsKLy8gICBncm91cC5ydW5uaW5nID0gdHJ1ZTsKLy8gICBncm91cC50b0Zyb250KCk7Ci8vICAgYW5pbWF0aW9uW2FuaW1hdGlvblR5cGVdLnJ1bi5jYWxsKHRoaXMsIGdyb3VwKTsKLy8gfQoKZnVuY3Rpb24gc3RvcEFuaW1hdGUoZ3JvdXAsIGFuaW1hdGlvblR5cGUpIHsKICBhbmltYXRpb25bYW5pbWF0aW9uVHlwZV0uc3RvcC5jYWxsKHRoaXMsIGdyb3VwKTsKfQoKLy8gZnVuY3Rpb24gc3RvcEFuaW1hdGUgKGdyb3VwLCBhbmltYXRpb25UeXBlKSB7Ci8vICAgYW5pbWF0aW9uW2FuaW1hdGlvblR5cGVdLnN0b3AuY2FsbCh0aGlzLCBncm91cCk7Ci8vIH0KCmZ1bmN0aW9uIGluaGVyaXRFZGdlKEc2LCBuYW1lKSB7CiAgRzYucmVnaXN0ZXJFZGdlKGAke25hbWV9LWVkZ2VgLCB7CiAgICBkcmF3U2hhcGUsCiAgICBzZXRTdGF0ZSwKICAgIHJ1bkFuaW1hdGUsCiAgICBzdG9wQW5pbWF0ZQogIH0sIG5hbWUpOwp9CmV4cG9ydCBkZWZhdWx0IChHNiA9PiB7CiAgY29uc3QgZWRnZUFycmF5ID0gWydsaW5lJywgJ3BvbHlsaW5lJywgJ3F1YWRyYXRpYycsICdjdWJpYycsICdhcmMnXTsKICBlZGdlQXJyYXkuZm9yRWFjaChlZGdlID0+IHsKICAgIGluaGVyaXRFZGdlKEc2LCBlZGdlKTsKICB9KTsKICBodmgoRzYsIHsKICAgIGRyYXdTaGFwZSwKICAgIHNldFN0YXRlLAogICAgcnVuQW5pbWF0ZSwKICAgIHN0b3BBbmltYXRlCiAgfSk7CiAgaHZoX2goRzYsIHsKICAgIGRyYXdTaGFwZSwKICAgIHNldFN0YXRlLAogICAgcnVuQW5pbWF0ZSwKICAgIHN0b3BBbmltYXRlCiAgfSk7Cn0pOw=="},{"version":3,"names":["animation","itemEvents","hvh_h","hvh","drawShape","cfg","group","running","runners","shapeStyle","Object","assign","getShapeStyle","edgeStateStyles","keyShape","addShape","className","name","attrs","setState","value","item","buildInEvents","getContainer","get","includes","call","stateApplying","console","warn","runAnimate","animationType","stopAnimate","stop","inheritEdge","G6","registerEdge","edgeArray","forEach","edge"],"sources":["D:/develop_ryx/foundryGPT/frontend/src/components/graph/shape/edges/base-edge.js"],"sourcesContent":["\r\n\r\nimport animation from './edge-animations';\r\nimport itemEvents from '../items/item-event';\r\nimport hvh_h from './hvh-h.js';\r\nimport hvh from './hvh.js';\r\n\r\n\r\n\r\nfunction drawShape (cfg, group) {\r\n  group.running = false;\r\n  group.runners = [];\r\n\r\n  const shapeStyle = Object.assign({}, this.getShapeStyle(cfg), {\r\n    ...cfg.edgeStateStyles,\r\n  });\r\n\r\n  const keyShape = group.addShape('path', {\r\n    className: 'edge-shape',\r\n    name:      'edge-shape',\r\n    attrs:     shapeStyle,\r\n  });\r\n\r\n  return keyShape;\r\n}\r\n\r\nfunction setState (name, value, item) {\r\n  const buildInEvents = [\r\n    'edgeState',\r\n    'edgeState:default',\r\n    'edgeState:selected',\r\n    'edgeState:hover',\r\n  ];\r\n  const group = item.getContainer();\r\n\r\n  if (group.get('destroyed')) return;\r\n  if (buildInEvents.includes(name)) {\r\n\r\n    itemEvents[name].call(this, value, group);\r\n  } else if (this.stateApplying) {\r\n    this.stateApplying.call(this, name, value, item);\r\n  } else {\r\n    console.warn(`warning: edge ${name} 事件回调未注册!`);\r\n  }\r\n}\r\n\r\nfunction runAnimate (group, animationType) {\r\n  if (group.running) return;\r\n  // group.running = true;\r\n  // group.toFront();\r\n  // animation[animationType].run.call(this, group);\r\n}\r\n// function runAnimate (group, animationType) {\r\n//   if (group.running) return;\r\n//   group.running = true;\r\n//   group.toFront();\r\n//   animation[animationType].run.call(this, group);\r\n// }\r\n\r\n\r\nfunction stopAnimate (group, animationType) {\r\n  animation[animationType].stop.call(this, group);\r\n}\r\n\r\n// function stopAnimate (group, animationType) {\r\n//   animation[animationType].stop.call(this, group);\r\n// }\r\n\r\n\r\nfunction inheritEdge (G6, name) {\r\n  G6.registerEdge(`${name}-edge`, {\r\n    drawShape,\r\n    setState,\r\n    runAnimate,\r\n    stopAnimate,\r\n  }, name);\r\n}\r\n\r\nexport default (G6) => {\r\n  const edgeArray = ['line', 'polyline', 'quadratic', 'cubic', 'arc'];\r\n\r\n  edgeArray.forEach(edge => {\r\n    inheritEdge(G6, edge);\r\n  });\r\n\r\n  hvh(G6, {\r\n    drawShape,\r\n    setState,\r\n    runAnimate,\r\n    stopAnimate,\r\n  });\r\n  hvh_h(G6, {\r\n    drawShape,\r\n    setState,\r\n    runAnimate,\r\n    stopAnimate,\r\n  });\r\n};\r\n"],"mappings":"AAEA,OAAOA,SAAS,MAAM,mBAAmB;AACzC,OAAOC,UAAU,MAAM,qBAAqB;AAC5C,OAAOC,KAAK,MAAM,YAAY;AAC9B,OAAOC,GAAG,MAAM,UAAU;AAI1B,SAASC,SAASA,CAAEC,GAAG,EAAEC,KAAK,EAAE;EAC9BA,KAAK,CAACC,OAAO,GAAG,KAAK;EACrBD,KAAK,CAACE,OAAO,GAAG,EAAE;EAElB,MAAMC,UAAU,GAAGC,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAE,IAAI,CAACC,aAAa,CAACP,GAAG,CAAC,EAAE;IAC5D,GAAGA,GAAG,CAACQ;EACT,CAAC,CAAC;EAEF,MAAMC,QAAQ,GAAGR,KAAK,CAACS,QAAQ,CAAC,MAAM,EAAE;IACtCC,SAAS,EAAE,YAAY;IACvBC,IAAI,EAAO,YAAY;IACvBC,KAAK,EAAMT;EACb,CAAC,CAAC;EAEF,OAAOK,QAAQ;AACjB;AAEA,SAASK,QAAQA,CAAEF,IAAI,EAAEG,KAAK,EAAEC,IAAI,EAAE;EACpC,MAAMC,aAAa,GAAG,CACpB,WAAW,EACX,mBAAmB,EACnB,oBAAoB,EACpB,iBAAiB,CAClB;EACD,MAAMhB,KAAK,GAAGe,IAAI,CAACE,YAAY,CAAC,CAAC;EAEjC,IAAIjB,KAAK,CAACkB,GAAG,CAAC,WAAW,CAAC,EAAE;EAC5B,IAAIF,aAAa,CAACG,QAAQ,CAACR,IAAI,CAAC,EAAE;IAEhChB,UAAU,CAACgB,IAAI,CAAC,CAACS,IAAI,CAAC,IAAI,EAAEN,KAAK,EAAEd,KAAK,CAAC;EAC3C,CAAC,MAAM,IAAI,IAAI,CAACqB,aAAa,EAAE;IAC7B,IAAI,CAACA,aAAa,CAACD,IAAI,CAAC,IAAI,EAAET,IAAI,EAAEG,KAAK,EAAEC,IAAI,CAAC;EAClD,CAAC,MAAM;IACLO,OAAO,CAACC,IAAI,CAAE,iBAAgBZ,IAAK,WAAU,CAAC;EAChD;AACF;AAEA,SAASa,UAAUA,CAAExB,KAAK,EAAEyB,aAAa,EAAE;EACzC,IAAIzB,KAAK,CAACC,OAAO,EAAE;EACnB;EACA;EACA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA,SAASyB,WAAWA,CAAE1B,KAAK,EAAEyB,aAAa,EAAE;EAC1C/B,SAAS,CAAC+B,aAAa,CAAC,CAACE,IAAI,CAACP,IAAI,CAAC,IAAI,EAAEpB,KAAK,CAAC;AACjD;;AAEA;AACA;AACA;;AAGA,SAAS4B,WAAWA,CAAEC,EAAE,EAAElB,IAAI,EAAE;EAC9BkB,EAAE,CAACC,YAAY,CAAE,GAAEnB,IAAK,OAAM,EAAE;IAC9Bb,SAAS;IACTe,QAAQ;IACRW,UAAU;IACVE;EACF,CAAC,EAAEf,IAAI,CAAC;AACV;AAEA,gBAAgBkB,EAAE,IAAK;EACrB,MAAME,SAAS,GAAG,CAAC,MAAM,EAAE,UAAU,EAAE,WAAW,EAAE,OAAO,EAAE,KAAK,CAAC;EAEnEA,SAAS,CAACC,OAAO,CAACC,IAAI,IAAI;IACxBL,WAAW,CAACC,EAAE,EAAEI,IAAI,CAAC;EACvB,CAAC,CAAC;EAEFpC,GAAG,CAACgC,EAAE,EAAE;IACN/B,SAAS;IACTe,QAAQ;IACRW,UAAU;IACVE;EACF,CAAC,CAAC;EACF9B,KAAK,CAACiC,EAAE,EAAE;IACR/B,SAAS;IACTe,QAAQ;IACRW,UAAU;IACVE;EACF,CAAC,CAAC;AACJ,CAAC"}]}