{"remainingRequest":"E:\\LLM-RDF\\frontend\\node_modules\\babel-loader\\lib\\index.js!E:\\LLM-RDF\\frontend\\src\\components\\graph\\behavior\\drag-node.js","dependencies":[{"path":"E:\\LLM-RDF\\frontend\\src\\components\\graph\\behavior\\drag-node.js","mtime":1687240234000},{"path":"E:\\LLM-RDF\\frontend\\babel.config.js","mtime":1710922912000},{"path":"E:\\LLM-RDF\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\LLM-RDF\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM3Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM3LmFycmF5LmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LnN0cmluZy5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5hcnJheS5maW5kIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiRTovTExNLVJERi9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkuanMiOwpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgZW51bWVyYWJsZU9ubHkgJiYgKHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KSksIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gbnVsbCAhPSBhcmd1bWVudHNbaV0gPyBhcmd1bWVudHNbaV0gOiB7fTsgaSAlIDIgPyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKSA6IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfQpleHBvcnQgZGVmYXVsdCAoZnVuY3Rpb24gKEc2KSB7CiAgRzYucmVnaXN0ZXJCZWhhdmlvcignZHJhZy1zaGFkb3ctbm9kZScsIHsKICAgIGdldERlZmF1bHRDZmc6IGZ1bmN0aW9uIGdldERlZmF1bHRDZmcoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgaXNHcmFnZ2luZzogZmFsc2UsCiAgICAgICAgc291cmNlQW5jaG9ySW5kZXg6IDAsCiAgICAgICAgZHJhZ1RhcmdldDogJ25vZGUnLAogICAgICAgIGRyYWdTdGFydE5vZGU6IHt9LAogICAgICAgIGRpc3RhbmNlOiBbXQogICAgICB9OwogICAgfSwKICAgIGdldEV2ZW50czogZnVuY3Rpb24gZ2V0RXZlbnRzKCkgewogICAgICByZXR1cm4gewogICAgICAgICdub2RlOm1vdXNlZG93bic6ICdvbk1vdXNlZG93bicsCiAgICAgICAgJ25vZGU6bW91c2V1cCc6ICdvbk1vdXNldXAnLAogICAgICAgICdub2RlOmRyYWdzdGFydCc6ICdvbkRyYWdTdGFydCcsCiAgICAgICAgJ25vZGU6ZHJhZyc6ICdvbkRyYWcnLAogICAgICAgICdub2RlOmRyYWdlbmQnOiAnb25EcmFnRW5kJywKICAgICAgICAnbm9kZTpkcm9wJzogJ29uRHJvcCcKICAgICAgfTsKICAgIH0sCiAgICBzaG91bGRCZWdpbjogZnVuY3Rpb24gc2hvdWxkQmVnaW4oZSkgewogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0sCiAgICBvbk1vdXNlZG93bjogZnVuY3Rpb24gb25Nb3VzZWRvd24oZSkgewogICAgICBpZiAoIXRoaXMuc2hvdWxkQmVnaW4oZSkpIHJldHVybjsKICAgICAgdGhpcy5fY2xlYXJTZWxlY3RlZChlKTsKICAgICAgaWYgKGUudGFyZ2V0LmNmZy5pc0FuY2hvcikgewogICAgICAgIHRoaXMuZHJhZ1RhcmdldCA9ICdhbmNob3InOwogICAgICAgIHRoaXMuZHJhZ1N0YXJ0Tm9kZSA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZS5pdGVtLl9jZmcpLCB7fSwgewogICAgICAgICAgYW5jaG9ySW5kZXg6IGUudGFyZ2V0LmNmZy5pbmRleAogICAgICAgIH0pOwogICAgICAgIHZhciBub2RlcyA9IHRoaXMuZ3JhcGguZmluZEFsbCgnbm9kZScsIGZ1bmN0aW9uIChub2RlKSB7CiAgICAgICAgICByZXR1cm4gbm9kZTsKICAgICAgICB9KTsKICAgICAgICBub2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7CiAgICAgICAgICBub2RlLnNldFN0YXRlKCdhbmNob3JBY3RpdmVkJywgdHJ1ZSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgdGhpcy5ncmFwaC5lbWl0KCdvbi1ub2RlLW1vdXNlZG93bicsIGUpOwogICAgfSwKICAgIG9uTW91c2V1cDogZnVuY3Rpb24gb25Nb3VzZXVwKGUpIHsKICAgICAgaWYgKCF0aGlzLnNob3VsZEJlZ2luKGUpKSByZXR1cm47CiAgICAgIGlmICh0aGlzLmRyYWdUYXJnZXQgPT09ICdhbmNob3InKSB7CiAgICAgICAgdmFyIG5vZGVzID0gdGhpcy5ncmFwaC5maW5kQWxsKCdub2RlJywgZnVuY3Rpb24gKG5vZGUpIHsKICAgICAgICAgIHJldHVybiBub2RlOwogICAgICAgIH0pOwogICAgICAgIG5vZGVzLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHsKICAgICAgICAgIG5vZGUuY2xlYXJTdGF0ZXMoJ2FuY2hvckFjdGl2ZWQnKTsKICAgICAgICB9KTsKICAgICAgfQogICAgICB0aGlzLmdyYXBoLmVtaXQoJ29uLW5vZGUtbW91c2V1cCcsIGUpOwogICAgfSwKICAgIG9uRHJhZ1N0YXJ0OiBmdW5jdGlvbiBvbkRyYWdTdGFydChlKSB7CiAgICAgIGlmICghdGhpcy5zaG91bGRCZWdpbihlKSkgcmV0dXJuOwogICAgICB2YXIgZ3JvdXAgPSBlLml0ZW0uZ2V0Q29udGFpbmVyKCk7CiAgICAgIHRoaXMuaXNHcmFnZ2luZyA9IHRydWU7CiAgICAgIHRoaXMub3JpZ2luID0gewogICAgICAgIHg6IGUueCwKICAgICAgICB5OiBlLnkKICAgICAgfTsKICAgICAgaWYgKGUudGFyZ2V0LmdldCgnaXNBbmNob3InKSkgewogICAgICAgIHRoaXMuc291cmNlQW5jaG9ySW5kZXggPSBlLnRhcmdldC5nZXQoJ2luZGV4Jyk7CiAgICAgIH0gZWxzZSBpZiAoZ3JvdXAuZ2V0Rmlyc3QoKS5jZmcueFNoYXBlTm9kZSkgewogICAgICAgIGUuaXRlbS50b0Zyb250KCk7CiAgICAgICAgdGhpcy5kcmFnVGFyZ2V0ID0gJ25vZGUnOwogICAgICAgIHRoaXMuX25vZGVPbkRyYWdTdGFydChlLCBncm91cCk7CiAgICAgIH0KICAgICAgdGhpcy5ncmFwaC5lbWl0KCdvbi1ub2RlLWRyYWdzdGFydCcsIGUpOwogICAgfSwKICAgIG9uRHJhZzogZnVuY3Rpb24gb25EcmFnKGUpIHsKICAgICAgaWYgKCF0aGlzLnNob3VsZEJlZ2luKGUpKSByZXR1cm47CiAgICAgIGlmICh0aGlzLmlzR3JhZ2dpbmcpIHsKICAgICAgICB2YXIgZ3JvdXAgPSBlLml0ZW0uZ2V0Q29udGFpbmVyKCk7CiAgICAgICAgaWYgKHRoaXMuZHJhZ1RhcmdldCA9PT0gJ25vZGUnICYmIGdyb3VwLmdldEZpcnN0KCkuY2ZnLnhTaGFwZU5vZGUpIHsKICAgICAgICAgIHRoaXMuX25vZGVPbkRyYWcoZSwgZS5pdGVtLmdldENvbnRhaW5lcigpKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5ncmFwaC5lbWl0KCdvbi1ub2RlLWRyYWcnLCBlKTsKICAgICAgfQogICAgfSwKICAgIG9uRHJhZ0VuZDogZnVuY3Rpb24gb25EcmFnRW5kKGUpIHsKICAgICAgaWYgKCF0aGlzLnNob3VsZEJlZ2luKGUpKSByZXR1cm47CiAgICAgIHZhciBncm91cCA9IGUuaXRlbS5nZXRDb250YWluZXIoKTsKICAgICAgdGhpcy5pc0dyYWdnaW5nID0gZmFsc2U7CiAgICAgIGlmICh0aGlzLmRyYWdUYXJnZXQgPT09ICdhbmNob3InKSB7CiAgICAgICAgdmFyIG5vZGVzID0gdGhpcy5ncmFwaC5maW5kQWxsKCdub2RlJywgZnVuY3Rpb24gKG5vZGUpIHsKICAgICAgICAgIHJldHVybiBub2RlOwogICAgICAgIH0pOwogICAgICAgIG5vZGVzLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHsKICAgICAgICAgIG5vZGUuY2xlYXJTdGF0ZXMoJ2FuY2hvckFjdGl2ZWQnKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmRyYWdUYXJnZXQgPT09ICdub2RlJyAmJiBncm91cC5nZXRGaXJzdCgpLmNmZy54U2hhcGVOb2RlKSB7CiAgICAgICAgdGhpcy5fbm9kZU9uRHJhZ0VuZChlLCBncm91cCk7CiAgICAgIH0KICAgICAgdGhpcy5ncmFwaC5lbWl0KCdvbi1ub2RlLWRyYWdlbmQnLCBlKTsKICAgIH0sCiAgICBvbkRyb3A6IGZ1bmN0aW9uIG9uRHJvcChlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIGlmICghdGhpcy5zaG91bGRCZWdpbihlKSkgcmV0dXJuOwogICAgICBpZiAodGhpcy5kcmFnU3RhcnROb2RlLmlkICYmIGUudGFyZ2V0LmNmZy5pc0FuY2hvciAmJiB0aGlzLmRyYWdTdGFydE5vZGUuaWQgIT09IGUudGFyZ2V0LmNmZy5ub2RlSWQpIHsKICAgICAgICB2YXIgc291cmNlTm9kZSA9IHRoaXMuZHJhZ1N0YXJ0Tm9kZS5ncm91cC5nZXQoJ2l0ZW0nKTsKICAgICAgICB2YXIgX3NvdXJjZU5vZGUkZ2V0TW9kZWwgPSBzb3VyY2VOb2RlLmdldE1vZGVsKCksCiAgICAgICAgICBzaW5nbGVFZGdlID0gX3NvdXJjZU5vZGUkZ2V0TW9kZWwuc2luZ2xlRWRnZTsKICAgICAgICB2YXIgdGFyZ2V0QW5jaG9ySW5kZXggPSBlLnRhcmdldC5nZXQoJ2luZGV4Jyk7CiAgICAgICAgdmFyIGVkZ2VzID0gc291cmNlTm9kZS5nZXRPdXRFZGdlcygpOwogICAgICAgIHZhciBoYXNMaW5rZWQgPSBlZGdlcy5maW5kKGZ1bmN0aW9uIChlZGdlKSB7CiAgICAgICAgICAvLyBzb3VyY2VBbmNob3JJbmRleCA9PT0gdGFyZ2V0QW5jaG9ySW5kZXgsIGVkZ2Uuc291cmNlLmlkID09PSBzb3VyY2UuaWQsIGVkZ2V0LnRhcmdldC5pZCA9PT0gdGFyZ2V0LmlkCiAgICAgICAgICBpZiAoZWRnZS5nZXQoJ3NvdXJjZScpLmdldCgnaWQnKSA9PT0gc291cmNlTm9kZS5nZXQoJ2lkJykgJiYgZWRnZS5nZXQoJ3RhcmdldCcpLmdldCgnaWQnKSA9PT0gZS50YXJnZXQuY2ZnLm5vZGVJZCAmJiBlZGdlLmdldCgnc291cmNlQW5jaG9ySW5kZXgnKSA9PT0gX3RoaXMuc291cmNlQW5jaG9ySW5kZXggJiYgZWRnZS5nZXQoJ3RhcmdldEFuY2hvckluZGV4JykgPT09IHRhcmdldEFuY2hvckluZGV4IHx8IHNpbmdsZUVkZ2UgJiYgZWRnZS5nZXQoJ3RhcmdldCcpLmdldCgnaWQnKSA9PT0gZS50YXJnZXQuY2ZnLm5vZGVJZCkgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBpZiAoIWhhc0xpbmtlZCkgewogICAgICAgICAgdGhpcy5ncmFwaC5lbWl0KCdiZWZvcmUtZWRnZS1hZGQnLCB7CiAgICAgICAgICAgIHNvdXJjZTogc291cmNlTm9kZSwKICAgICAgICAgICAgdGFyZ2V0OiBlLml0ZW0uZ2V0Q29udGFpbmVyKCkuZ2V0KCdpdGVtJyksCiAgICAgICAgICAgIHNvdXJjZUFuY2hvcjogdGhpcy5kcmFnU3RhcnROb2RlLmFuY2hvckluZGV4LAogICAgICAgICAgICB0YXJnZXRBbmNob3I6IGUudGFyZ2V0LmNmZy5pbmRleAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHRoaXMuZ3JhcGguZW1pdCgnb24tbm9kZS1kcm9wJywgZSk7CiAgICB9LAogICAgX2RyYWdOb2RlTW9kZUNoZWNrOiBmdW5jdGlvbiBfZHJhZ05vZGVNb2RlQ2hlY2soKSB7CiAgICAgIHZhciBjdXJyZW50TW9kZSA9IHRoaXMuZ3JhcGguZ2V0KCdtb2RlcycpW3RoaXMuZ3JhcGguZ2V0Q3VycmVudE1vZGUoKV07CiAgICAgIGlmIChjdXJyZW50TW9kZS5pbmNsdWRlcygnZHJhZy1ub2RlJykpIHsKICAgICAgICBjb25zb2xlLndhcm4oJ0JlaGF2aW9yIGRyYWctc2hhZG93LW5vZGUg5LiO5YaF572uIEJlaGF2aW9yIGRyYWctbm9kZSDlnKjooYzkuLrkuIrmnInlhrLnqoEsIOivt+iAg+iZkeaUueeUqCBzZXRNb2RlIOadpeWIhuW8gOS4pOenjemUmeivrywg5oiW5Zyo5Lul5LiK5Lik56eN6KGM5Li655qE5YWl5Y+CIHNob3VsZEJlZ2luIOaWueazleS4rea3u+WKoOmAu+i+keWkhOeQhuadpemBv+WFjeWGsueqgScpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0sCiAgICBfbm9kZU9uRHJhZ1N0YXJ0OiBmdW5jdGlvbiBfbm9kZU9uRHJhZ1N0YXJ0KGUsIGdyb3VwKSB7CiAgICAgIHRoaXMuX2RyYWdOb2RlTW9kZUNoZWNrKCk7CiAgICAgIHRoaXMuX2FkZFNoYWRvd05vZGUoZSwgZ3JvdXApOwogICAgfSwKICAgIF9hZGRTaGFkb3dOb2RlOiBmdW5jdGlvbiBfYWRkU2hhZG93Tm9kZShlLCBncm91cCkgewogICAgICB2YXIgaXRlbSA9IGdyb3VwLmdldCgnaXRlbScpOwogICAgICB2YXIgbW9kZWwgPSBpdGVtLmdldCgnbW9kZWwnKTsKICAgICAgdmFyIF9pdGVtJGdldCA9IGl0ZW0uZ2V0KCdvcmlnaW5TdHlsZScpLAogICAgICAgIHJhZGl1cyA9IF9pdGVtJGdldC5yYWRpdXM7CiAgICAgIHZhciBjdXJyZW50U2hhcGUgPSBpdGVtLmdldCgnY3VycmVudFNoYXBlJyk7CiAgICAgIHZhciBfaXRlbSRnZXRCQm94ID0gaXRlbS5nZXRCQm94KCksCiAgICAgICAgd2lkdGggPSBfaXRlbSRnZXRCQm94LndpZHRoLAogICAgICAgIGhlaWdodCA9IF9pdGVtJGdldEJCb3guaGVpZ2h0LAogICAgICAgIGNlbnRlclggPSBfaXRlbSRnZXRCQm94LmNlbnRlclgsCiAgICAgICAgY2VudGVyWSA9IF9pdGVtJGdldEJCb3guY2VudGVyWTsKICAgICAgdmFyIHNoYXBlcyA9IGl0ZW0uZ2V0KCdzaGFwZUZhY3RvcnknKVtjdXJyZW50U2hhcGVdOwogICAgICB2YXIgX3JlZiA9IHNoYXBlcyB8fCB7fSwKICAgICAgICBzaGFwZVR5cGUgPSBfcmVmLnNoYXBlVHlwZSwKICAgICAgICBhdHRycyA9IHsKICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjEsCiAgICAgICAgICBmaWxsOiAnIzE4OTBGRicsCiAgICAgICAgICBzdHJva2U6ICcjMTg5MEZGJywKICAgICAgICAgIGN1cnNvcjogJ21vdmUnLAogICAgICAgICAgbGluZURhc2g6IFs0LCA0XSwKICAgICAgICAgIHdpZHRoOiB3aWR0aCwKICAgICAgICAgIGhlaWdodDogaGVpZ2h0LAogICAgICAgICAgeDogbW9kZWwueCwKICAgICAgICAgIHk6IG1vZGVsLnkKICAgICAgICB9OwogICAgICBzd2l0Y2ggKHNoYXBlVHlwZSkgewogICAgICAgIGNhc2UgJ2NpcmNsZSc6CiAgICAgICAgICB0aGlzLmRpc3RhbmNlID0gW2UueCAtIGNlbnRlclgsIGUueSAtIGNlbnRlclldOwogICAgICAgICAgYXR0cnMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGF0dHJzKSwge30sIHsKICAgICAgICAgICAgcjogd2lkdGggLyAyCiAgICAgICAgICB9KTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ3JlY3QnOgogICAgICAgICAgdGhpcy5kaXN0YW5jZSA9IFtlLnggLSBjZW50ZXJYICsgd2lkdGggLyAyLCBlLnkgLSBjZW50ZXJZICsgaGVpZ2h0IC8gMl07CiAgICAgICAgICBhdHRycyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgYXR0cnMpLCB7fSwgewogICAgICAgICAgICB4OiAtd2lkdGggLyAyLAogICAgICAgICAgICB5OiAtaGVpZ2h0IC8gMiwKICAgICAgICAgICAgcjogd2lkdGggLyAyCiAgICAgICAgICB9KTsKICAgICAgICAgIGlmIChyYWRpdXMpIGF0dHJzLnJhZGl1cyA9IHJhZGl1czsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ2VsbGlwc2UnOgogICAgICAgICAgdGhpcy5kaXN0YW5jZSA9IFtlLnggLSBjZW50ZXJYLCBlLnkgLSBjZW50ZXJZXTsKICAgICAgICAgIGF0dHJzID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBhdHRycyksIHt9LCB7CiAgICAgICAgICAgIHJ4OiB3aWR0aCAvIDIsCiAgICAgICAgICAgIHJ5OiBoZWlnaHQgLyAyCiAgICAgICAgICB9KTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ3BhdGgnOgogICAgICAgICAgdGhpcy5kaXN0YW5jZSA9IFtlLnggLSBjZW50ZXJYLCBlLnkgLSBjZW50ZXJZXTsKICAgICAgICAgIGF0dHJzLnBhdGggPSBpdGVtLmdldCgna2V5U2hhcGUnKS5hdHRycy5wYXRoOwogICAgICAgICAgYXR0cnMuc2l6ZSA9IFt3aWR0aCwgaGVpZ2h0XTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ21vZGVsUmVjdCc6CiAgICAgICAgICB0aGlzLmRpc3RhbmNlID0gW2UueCAtIGNlbnRlclggKyB3aWR0aCAvIDIsIGUueSAtIGNlbnRlclkgKyBoZWlnaHQgLyAyXTsKICAgICAgICAgIGF0dHJzID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBhdHRycyksIHt9LCB7CiAgICAgICAgICAgIHg6IC13aWR0aCAvIDIsCiAgICAgICAgICAgIHk6IC1oZWlnaHQgLyAyLAogICAgICAgICAgICByOiB3aWR0aCAvIDIKICAgICAgICAgIH0pOwogICAgICAgICAgc2hhcGVUeXBlID0gJ3JlY3QnOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHNoYXBlVHlwZSA9ICdjaXJjbGUnOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgICAgdmFyIHNoYWRvd05vZGUgPSBncm91cC5hZGRTaGFwZShzaGFwZVR5cGUsIHsKICAgICAgICBjbGFzc05hbWU6ICdzaGFkb3ctbm9kZScsCiAgICAgICAgYXR0cnM6IGF0dHJzCiAgICAgIH0pOwogICAgICBzaGFkb3dOb2RlLnRvRnJvbnQoKTsKICAgIH0sCiAgICBfbm9kZU9uRHJhZzogZnVuY3Rpb24gX25vZGVPbkRyYWcoZSwgZ3JvdXApIHsKICAgICAgdmFyIGl0ZW0gPSBncm91cC5nZXQoJ2l0ZW0nKTsKICAgICAgdmFyIHBhdGhBdHRycyA9IGdyb3VwLmdldEZpcnN0KCk7CiAgICAgIHZhciBfaXRlbSRnZXRCQm94MiA9IGl0ZW0uZ2V0QkJveCgpLAogICAgICAgIHdpZHRoID0gX2l0ZW0kZ2V0QkJveDIud2lkdGgsCiAgICAgICAgaGVpZ2h0ID0gX2l0ZW0kZ2V0QkJveDIuaGVpZ2h0LAogICAgICAgIGNlbnRlclggPSBfaXRlbSRnZXRCQm94Mi5jZW50ZXJYLAogICAgICAgIGNlbnRlclkgPSBfaXRlbSRnZXRCQm94Mi5jZW50ZXJZOwogICAgICB2YXIgc2hhZG93Tm9kZSA9IHBhdGhBdHRycy5jZmcueFNoYXBlTm9kZSA/IGdyb3VwLiRnZXRJdGVtKCdzaGFkb3ctbm9kZScpIDogbnVsbDsKICAgICAgdmFyIHNoYXBlcyA9IGl0ZW0uZ2V0KCdzaGFwZUZhY3RvcnknKVtpdGVtLmdldCgnY3VycmVudFNoYXBlJyldOwogICAgICB2YXIgX3JlZjIgPSBzaGFwZXMgfHwge30sCiAgICAgICAgc2hhcGVUeXBlID0gX3JlZjIuc2hhcGVUeXBlOwogICAgICBpZiAoIXNoYWRvd05vZGUpIHsKICAgICAgICByZXR1cm4gY29uc29sZS53YXJuKCfmmoLmnKrmlK/mjIHmi5bmi73lhoXnva7oioLngrknKTsKICAgICAgfQogICAgICBpZiAoc2hhcGVUeXBlID09PSAncGF0aCcpIHsKICAgICAgICB2YXIgX3BhdGhBdHRycyRnZXQgPSBwYXRoQXR0cnMuZ2V0KCdhdHRycycpLAogICAgICAgICAgdHlwZSA9IF9wYXRoQXR0cnMkZ2V0LnR5cGUsCiAgICAgICAgICBkaXJlY3Rpb24gPSBfcGF0aEF0dHJzJGdldC5kaXJlY3Rpb247CiAgICAgICAgdmFyIGR4ID0gZS54IC0gY2VudGVyWCAtIHRoaXMuZGlzdGFuY2VbMF07CiAgICAgICAgdmFyIGR5ID0gZS55IC0gY2VudGVyWSAtIHRoaXMuZGlzdGFuY2VbMV07CiAgICAgICAgdmFyIHBhdGggPSBbWydaJ11dOwogICAgICAgIHN3aXRjaCAodHlwZSkgewogICAgICAgICAgY2FzZSAnZGlhbW9uZC1ub2RlJzoKICAgICAgICAgICAgcGF0aC51bnNoaWZ0KFsnTScsIGR4LCBkeSAtIGhlaWdodCAvIDJdLCBbJ0wnLCBkeCArIHdpZHRoIC8gMiwgZHldLCBbJ0wnLCBkeCwgZHkgKyBoZWlnaHQgLyAyXSwgWydMJywgZHggLSB3aWR0aCAvIDIsIGR5XSk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAndHJpYW5nbGUtbm9kZSc6CiAgICAgICAgICAgIHBhdGgudW5zaGlmdChbJ0wnLCBkeCArIHdpZHRoIC8gMiwgZHldLCBbJ0wnLCBkeCAtIHdpZHRoIC8gMiwgZHldKTsKICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ3VwJykgewogICAgICAgICAgICAgIHBhdGgudW5zaGlmdChbJ00nLCBkeCwgZHkgLSBoZWlnaHRdKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBwYXRoLnVuc2hpZnQoWydNJywgZHgsIGR5ICsgaGVpZ2h0XSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICAgIHNoYWRvd05vZGUuYXR0cih7CiAgICAgICAgICBwYXRoOiBwYXRoCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc2hhZG93Tm9kZS5hdHRyKHsKICAgICAgICAgIHg6IGUueCAtIGNlbnRlclggLSB0aGlzLmRpc3RhbmNlWzBdLAogICAgICAgICAgeTogZS55IC0gY2VudGVyWSAtIHRoaXMuZGlzdGFuY2VbMV0KICAgICAgICB9KTsKICAgICAgfQogICAgICBzaGFkb3dOb2RlLnRvRnJvbnQoKTsKICAgIH0sCiAgICBfbm9kZU9uRHJhZ0VuZDogZnVuY3Rpb24gX25vZGVPbkRyYWdFbmQoZSwgZ3JvdXApIHsKICAgICAgdmFyIGdyYXBoID0gdGhpcy5ncmFwaDsKICAgICAgdmFyIG1vZGVsID0gZS5pdGVtLmdldE1vZGVsKCk7CiAgICAgIHZhciBzaGFkb3dOb2RlID0gZ3JvdXAuZ2V0Rmlyc3QoKS5jZmcueFNoYXBlTm9kZSA/IGdyb3VwLiRnZXRJdGVtKCdzaGFkb3ctbm9kZScpIDogbnVsbDsKICAgICAgaWYgKHNoYWRvd05vZGUpIHsKICAgICAgICB2YXIgeCA9IGUueCAtIHRoaXMub3JpZ2luLnggKyBtb2RlbC54OwogICAgICAgIHZhciB5ID0gZS55IC0gdGhpcy5vcmlnaW4ueSArIG1vZGVsLnk7CiAgICAgICAgdmFyIHBvcyA9IHsKICAgICAgICAgIHg6IHgsCiAgICAgICAgICB5OiB5CiAgICAgICAgfTsKICAgICAgICBzaGFkb3dOb2RlLnJlbW92ZSgpOwogICAgICAgIGlmICghdGhpcy5fZHJhZ05vZGVNb2RlQ2hlY2soKSkgewogICAgICAgICAgZ3JhcGgudXBkYXRlSXRlbShlLml0ZW0sIHBvcyk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgX2NsZWFyU2VsZWN0ZWQ6IGZ1bmN0aW9uIF9jbGVhclNlbGVjdGVkKGUpIHsKICAgICAgdmFyIHNlbGVjdGVkRWRnZXMgPSB0aGlzLmdyYXBoLmZpbmRBbGxCeVN0YXRlKCdlZGdlJywgJ2VkZ2VTdGF0ZTpzZWxlY3RlZCcpOwogICAgICBzZWxlY3RlZEVkZ2VzLmZvckVhY2goZnVuY3Rpb24gKGVkZ2UpIHsKICAgICAgICBlZGdlLmNsZWFyU3RhdGVzKFsnZWRnZVN0YXRlOnNlbGVjdGVkJywgJ2VkZ2VTdGF0ZTpob3ZlciddKTsKICAgICAgfSk7CiAgICB9CiAgfSk7Cn0pOw=="},{"version":3,"names":["G6","registerBehavior","getDefaultCfg","isGragging","sourceAnchorIndex","dragTarget","dragStartNode","distance","getEvents","shouldBegin","e","onMousedown","_clearSelected","target","cfg","isAnchor","_objectSpread","item","_cfg","anchorIndex","index","nodes","graph","findAll","node","forEach","setState","emit","onMouseup","clearStates","onDragStart","group","getContainer","origin","x","y","get","getFirst","xShapeNode","toFront","_nodeOnDragStart","onDrag","_nodeOnDrag","onDragEnd","_nodeOnDragEnd","onDrop","_this","id","nodeId","sourceNode","_sourceNode$getModel","getModel","singleEdge","targetAnchorIndex","edges","getOutEdges","hasLinked","find","edge","source","sourceAnchor","targetAnchor","_dragNodeModeCheck","currentMode","getCurrentMode","includes","console","warn","_addShadowNode","model","_item$get","radius","currentShape","_item$getBBox","getBBox","width","height","centerX","centerY","shapes","_ref","shapeType","attrs","fillOpacity","fill","stroke","cursor","lineDash","r","rx","ry","path","size","shadowNode","addShape","className","pathAttrs","_item$getBBox2","$getItem","_ref2","_pathAttrs$get","type","direction","dx","dy","unshift","attr","pos","remove","updateItem","selectedEdges","findAllByState"],"sources":["E:/LLM-RDF/frontend/src/components/graph/behavior/drag-node.js"],"sourcesContent":["export default G6 => {\r\n  G6.registerBehavior('drag-shadow-node', {\r\n    getDefaultCfg() {\r\n      return {\r\n        isGragging:        false,\r\n        sourceAnchorIndex: 0,\r\n\r\n        dragTarget:        'node',\r\n        dragStartNode:     {},\r\n        distance:          [], \r\n      };\r\n    },\r\n    getEvents() {\r\n      return {\r\n        'node:mousedown': 'onMousedown',\r\n        'node:mouseup':   'onMouseup',\r\n        'node:dragstart': 'onDragStart',\r\n        'node:drag':      'onDrag',\r\n        'node:dragend':   'onDragEnd',\r\n        'node:drop':      'onDrop',\r\n      };\r\n    },\r\n    shouldBegin(e) {\r\n      return true;\r\n    },\r\n\r\n    onMousedown(e) {\r\n      if (!this.shouldBegin(e)) return;\r\n      this._clearSelected(e);\r\n      if (e.target.cfg.isAnchor) {\r\n\r\n        this.dragTarget = 'anchor';\r\n        this.dragStartNode = {\r\n          ...e.item._cfg,\r\n          anchorIndex: e.target.cfg.index,\r\n        };\r\n        const nodes = this.graph.findAll('node', node => node);\r\n\r\n        nodes.forEach(node => {\r\n          node.setState('anchorActived', true);\r\n        });\r\n      }\r\n      this.graph.emit('on-node-mousedown', e);\r\n    },\r\n    onMouseup(e) {\r\n      if (!this.shouldBegin(e)) return;\r\n      if (this.dragTarget === 'anchor') {\r\n        const nodes = this.graph.findAll('node', node => node);\r\n\r\n        nodes.forEach(node => {\r\n          node.clearStates('anchorActived');\r\n        });\r\n      }\r\n      this.graph.emit('on-node-mouseup', e);\r\n    },\r\n\r\n    onDragStart(e) {\r\n      if (!this.shouldBegin(e)) return;\r\n      const group = e.item.getContainer();\r\n\r\n      this.isGragging = true;\r\n      this.origin = {\r\n        x: e.x,\r\n        y: e.y,\r\n      };\r\n      if (e.target.get('isAnchor')) {\r\n\r\n        this.sourceAnchorIndex = e.target.get('index');\r\n      } else if (group.getFirst().cfg.xShapeNode) {\r\n\r\n        e.item.toFront();\r\n        this.dragTarget = 'node';\r\n        this._nodeOnDragStart(e, group);\r\n      }\r\n      this.graph.emit('on-node-dragstart', e);\r\n    },\r\n\r\n    onDrag (e) {\r\n      if (!this.shouldBegin(e)) return;\r\n      if (this.isGragging) {\r\n        const group = e.item.getContainer();\r\n\r\n        if (this.dragTarget === 'node' && group.getFirst().cfg.xShapeNode) {\r\n          this._nodeOnDrag(e, e.item.getContainer());\r\n        }\r\n        this.graph.emit('on-node-drag', e);\r\n      }\r\n    },\r\n\r\n    onDragEnd(e) {\r\n      if (!this.shouldBegin(e)) return;\r\n      const group = e.item.getContainer();\r\n\r\n      this.isGragging = false;\r\n      if (this.dragTarget === 'anchor') {\r\n        const nodes = this.graph.findAll('node', node => node);\r\n\r\n        nodes.forEach(node => {\r\n          node.clearStates('anchorActived');\r\n        });\r\n      } else if (\r\n        this.dragTarget === 'node' &&\r\n        group.getFirst().cfg.xShapeNode\r\n      ) {\r\n        this._nodeOnDragEnd(e, group);\r\n      }\r\n      this.graph.emit('on-node-dragend', e);\r\n    },\r\n\r\n    onDrop(e) {\r\n      if (!this.shouldBegin(e)) return;\r\n\r\n      if (\r\n        this.dragStartNode.id &&\r\n        e.target.cfg.isAnchor &&\r\n        this.dragStartNode.id !== e.target.cfg.nodeId\r\n      ) {\r\n        const sourceNode = this.dragStartNode.group.get('item');\r\n        const { singleEdge } = sourceNode.getModel(); \r\n        const targetAnchorIndex = e.target.get('index');\r\n        const edges = sourceNode.getOutEdges();\r\n\r\n        const hasLinked = edges.find(edge => {\r\n          // sourceAnchorIndex === targetAnchorIndex, edge.source.id === source.id, edget.target.id === target.id\r\n          if (\r\n            (edge.get('source').get('id') === sourceNode.get('id') &&\r\n              edge.get('target').get('id') === e.target.cfg.nodeId &&\r\n              edge.get('sourceAnchorIndex') === this.sourceAnchorIndex &&\r\n              edge.get('targetAnchorIndex') === targetAnchorIndex) ||\r\n            (singleEdge &&\r\n              edge.get('target').get('id') === e.target.cfg.nodeId)\r\n          ) {\r\n            return true;\r\n          }\r\n        });\r\n\r\n        if (!hasLinked) {\r\n          this.graph.emit('before-edge-add', {\r\n            source:       sourceNode,\r\n            target:       e.item.getContainer().get('item'),\r\n            sourceAnchor: this.dragStartNode.anchorIndex,\r\n            targetAnchor: e.target.cfg.index,\r\n          });\r\n        }\r\n      }\r\n      this.graph.emit('on-node-drop', e);\r\n    },\r\n\r\n\r\n    \r\n    _dragNodeModeCheck() {\r\n      const currentMode = this.graph.get('modes')[this.graph.getCurrentMode()];\r\n\r\n      if (currentMode.includes('drag-node')) {\r\n        console.warn(\r\n          'Behavior drag-shadow-node 与内置 Behavior drag-node 在行为上有冲突, 请考虑改用 setMode 来分开两种错误, 或在以上两种行为的入参 shouldBegin 方法中添加逻辑处理来避免冲突',\r\n        );\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n\r\n\r\n    \r\n    _nodeOnDragStart(e, group) {\r\n      this._dragNodeModeCheck();\r\n      this._addShadowNode(e, group);\r\n    },\r\n\r\n\r\n    \r\n    _addShadowNode(e, group) {\r\n      const item = group.get('item');\r\n      const model = item.get('model');\r\n      const { radius } = item.get('originStyle');\r\n      const currentShape = item.get('currentShape');\r\n      const { width, height, centerX, centerY } = item.getBBox();\r\n      const shapes = item.get('shapeFactory')[currentShape];\r\n\r\n      let { shapeType } = shapes || {},\r\n        attrs = {\r\n          fillOpacity: 0.1,\r\n          fill:        '#1890FF',\r\n          stroke:      '#1890FF',\r\n          cursor:      'move',\r\n          lineDash:    [4, 4],\r\n          width,\r\n          height,\r\n          x:           model.x,\r\n          y:           model.y,\r\n        };\r\n\r\n      switch (shapeType) {\r\n        case 'circle':\r\n          this.distance = [e.x - centerX, e.y - centerY];\r\n          attrs = {\r\n            ...attrs,\r\n            r: width / 2,\r\n          };\r\n          break;\r\n        case 'rect':\r\n          this.distance = [\r\n            e.x - centerX + width / 2,\r\n            e.y - centerY + height / 2,\r\n          ];\r\n          attrs = {\r\n            ...attrs,\r\n            x: -width / 2,\r\n            y: -height / 2,\r\n            r: width / 2,\r\n          };\r\n          if (radius) attrs.radius = radius;\r\n          break;\r\n        case 'ellipse':\r\n          this.distance = [e.x - centerX, e.y - centerY];\r\n          attrs = {\r\n            ...attrs,\r\n            rx: width / 2,\r\n            ry: height / 2,\r\n          };\r\n          break;\r\n        case 'path':\r\n          this.distance = [e.x - centerX, e.y - centerY];\r\n          attrs.path = item.get('keyShape').attrs.path;\r\n          attrs.size = [width, height];\r\n          break;\r\n        case 'modelRect':\r\n          this.distance = [\r\n            e.x - centerX + width / 2,\r\n            e.y - centerY + height / 2,\r\n          ];\r\n          attrs = {\r\n            ...attrs,\r\n            x: -width / 2,\r\n            y: -height / 2,\r\n            r: width / 2,\r\n          };\r\n          shapeType = 'rect';\r\n          break;\r\n        default:\r\n          shapeType = 'circle';\r\n          break;\r\n      }\r\n\r\n      const shadowNode = group.addShape(shapeType, {\r\n        className: 'shadow-node',\r\n        attrs,\r\n      });\r\n\r\n      shadowNode.toFront();\r\n    },\r\n\r\n    \r\n    _nodeOnDrag(e, group) {\r\n\r\n      const item = group.get('item');\r\n      const pathAttrs = group.getFirst();\r\n      const { width, height, centerX, centerY } = item.getBBox();\r\n      const shadowNode = pathAttrs.cfg.xShapeNode\r\n        ? group.$getItem('shadow-node')\r\n        : null;\r\n      const shapes = item.get('shapeFactory')[item.get('currentShape')];\r\n      const { shapeType } = shapes || {};\r\n\r\n      if (!shadowNode) {\r\n        return console.warn('暂未支持拖拽内置节点');\r\n      }\r\n      if (shapeType === 'path') {\r\n        const { type, direction } = pathAttrs.get('attrs');\r\n        const dx = e.x - centerX - this.distance[0];\r\n        const dy = e.y - centerY - this.distance[1];\r\n        const path = [['Z']];\r\n\r\n        switch (type) {\r\n          case 'diamond-node':\r\n            path.unshift(\r\n              ['M', dx, dy - height / 2], \r\n              ['L', dx + width / 2, dy], \r\n              ['L', dx, dy + height / 2], \r\n              ['L', dx - width / 2, dy],\r\n            );\r\n            break;\r\n          case 'triangle-node':\r\n            path.unshift(\r\n              ['L', dx + width / 2, dy], \r\n              ['L', dx - width / 2, dy], \r\n            );\r\n            if (direction === 'up') {\r\n              path.unshift(\r\n                ['M', dx, dy - height], \r\n              );\r\n            } else {\r\n              path.unshift(\r\n                ['M', dx, dy + height], \r\n              );\r\n            }\r\n            break;\r\n        }\r\n\r\n        shadowNode.attr({\r\n          path,\r\n        });\r\n      } else {\r\n        shadowNode.attr({\r\n          x: e.x - centerX - this.distance[0],\r\n          y: e.y - centerY - this.distance[1],\r\n        });\r\n      }\r\n\r\n      shadowNode.toFront();\r\n    },\r\n\r\n\r\n    _nodeOnDragEnd(e, group) {\r\n      const { graph } = this;\r\n      const model = e.item.getModel();\r\n      const shadowNode = group.getFirst().cfg.xShapeNode\r\n        ? group.$getItem('shadow-node')\r\n        : null;\r\n\r\n      if (shadowNode) {\r\n        const x = e.x - this.origin.x + model.x;\r\n        const y = e.y - this.origin.y + model.y;\r\n        const pos = {\r\n          x,\r\n          y,\r\n        };\r\n\r\n        shadowNode.remove();\r\n\r\n        if (!this._dragNodeModeCheck()) {\r\n\r\n          graph.updateItem(e.item, pos);\r\n        }\r\n      }\r\n    },\r\n\r\n    _clearSelected(e) {\r\n      const selectedEdges = this.graph.findAllByState(\r\n        'edge',\r\n        'edgeState:selected',\r\n      );\r\n\r\n      selectedEdges.forEach(edge => {\r\n        edge.clearStates(['edgeState:selected', 'edgeState:hover']);\r\n      });\r\n    },\r\n  });\r\n};\r\n"],"mappings":"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"}]}