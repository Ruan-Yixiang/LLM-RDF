{"remainingRequest":"D:\\develop_ryx\\foundryGPT\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\develop_ryx\\foundryGPT\\frontend\\src\\components\\graph\\shape\\items\\base-node.js","dependencies":[{"path":"D:\\develop_ryx\\foundryGPT\\frontend\\src\\components\\graph\\shape\\items\\base-node.js","mtime":1687233846000},{"path":"D:\\develop_ryx\\foundryGPT\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\develop_ryx\\foundryGPT\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGl0ZW1FdmVudHMgZnJvbSAnLi9pdGVtLWV2ZW50JzsKaW1wb3J0IGFuY2hvckV2ZW50IGZyb20gJy4vYW5jaG9yLWV2ZW50JzsKaW1wb3J0IGRlZmF1bHRTdHlsZXMgZnJvbSAnLi4vZGVmYXVsdFN0eWxlcyc7CmNvbnN0IHsKICBpY29uU3R5bGVzLAogIG5vZGVTdHlsZXMsCiAgYW5jaG9yUG9pbnRTdHlsZXMsCiAgbm9kZUxhYmVsU3R5bGVzCn0gPSBkZWZhdWx0U3R5bGVzOwpmdW5jdGlvbiBnZXRTdHlsZShvcHRpb25zLCBjZmcpIHsKICByZXR1cm4gewogICAgLi4uY2ZnLAogICAgLi4ubm9kZVN0eWxlcywKICAgIC4uLm9wdGlvbnMsCiAgICAuLi5jZmcuc3R5bGUsCiAgICBsYWJlbENmZzogewogICAgICAuLi5ub2RlTGFiZWxTdHlsZXMsCiAgICAgIC4uLmNmZy5sYWJlbENmZwogICAgfSwKICAgIGljb25TdHlsZXM6IHsKICAgICAgLi4uaWNvblN0eWxlcywKICAgICAgLi4uY2ZnLmljb25TdHlsZXMKICAgIH0sCiAgICBhbmNob3JQb2ludFN0eWxlczogewogICAgICAuLi5hbmNob3JQb2ludFN0eWxlcywKICAgICAgLi4uY2ZnLmFuY2hvclBvaW50U3R5bGVzCiAgICB9LAogICAgLi4uY2ZnLm5vZGVTdGF0ZVN0eWxlcywKICAgIGFuY2hvckhvdHNvcHRTdHlsZXM6IGNmZy5hbmNob3JIb3Rzb3B0U3R5bGVzCiAgfTsKfQpleHBvcnQgZGVmYXVsdCAoRzYgPT4gewogIEc2LnJlZ2lzdGVyTm9kZSgnYmFzZS1ub2RlJywgewogICAgZ2V0U2hhcGVTdHlsZShjZmcpIHsKICAgICAgY29uc3Qgd2lkdGggPSBjZmcuc3R5bGUud2lkdGggfHwgODA7CiAgICAgIGNvbnN0IGhlaWdodCA9IGNmZy5zdHlsZS5oZWlnaHQgfHwgNDA7CiAgICAgIHJldHVybiBnZXRTdHlsZS5jYWxsKHRoaXMsIHsKICAgICAgICB3aWR0aCwKICAgICAgICBoZWlnaHQsCiAgICAgICAgcmFkaXVzOiA1LAogICAgICAgIHg6IC13aWR0aCAvIDIsCiAgICAgICAgeTogLWhlaWdodCAvIDIKICAgICAgfSwgY2ZnKTsKICAgIH0sCiAgICBkcmF3SWNvbihjZmcsIGdyb3VwLCBhdHRycykgewogICAgICBjb25zdCB7CiAgICAgICAgbG9nb0ljb24sCiAgICAgICAgc3RhdGVJY29uCiAgICAgIH0gPSBhdHRyczsKICAgICAgY29uc3QgaWNvbnMgPSBbbG9nb0ljb24sIHN0YXRlSWNvbl07CiAgICAgIGljb25zLmZvckVhY2goKCRpdGVtLCBpbmRleCkgPT4gewogICAgICAgIGlmICgkaXRlbSkgewogICAgICAgICAgY29uc3QgY2xhc3NOYW1lID0gYCR7YXR0cnMudHlwZX0tJHtpbmRleCA9PT0gMCA/ICdsb2dvSWNvbicgOiAnc3RhdGVJY29uJ31gOwogICAgICAgICAgbGV0IGl0ZW0gPSBncm91cC4kZ2V0SXRlbShjbGFzc05hbWUpOwogICAgICAgICAgaWYgKCFpdGVtKSB7CiAgICAgICAgICAgIGNvbnN0IGljb24gPSBncm91cC5hZGRTaGFwZSgkaXRlbS5pbWcgPyAnaW1hZ2UnIDogJ3RleHQnLCB7CiAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgIC4uLiRpdGVtLAogICAgICAgICAgICAgICAgLi4uJGl0ZW0uc3R5bGUKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZSwKICAgICAgICAgICAgICBjbGFzc05hbWUKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGljb24udG9Gcm9udCgpOwogICAgICAgICAgICBpdGVtID0gZ3JvdXAuJGdldEl0ZW0oY2xhc3NOYW1lKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChpdGVtKSB7CiAgICAgICAgICAgIGlmICgkaXRlbS5zaG93KSB7CiAgICAgICAgICAgICAgaXRlbS5zaG93KCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgaXRlbS5oaWRlKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGluaXRBbmNob3IoY2ZnLCBncm91cCkgewogICAgICBncm91cC5hbmNob3JTaGFwZXMgPSBbXTsKICAgICAgZ3JvdXAuc2hvd0FuY2hvciA9IGdyb3VwID0+IHsKICAgICAgICB0aGlzLmRyYXdBbmNob3IoY2ZnLCBncm91cCk7CiAgICAgIH07CiAgICAgIGdyb3VwLmNsZWFyQW5jaG9yID0gZ3JvdXAgPT4gewogICAgICAgIGdyb3VwLmFuY2hvclNoYXBlcyAmJiBncm91cC5hbmNob3JTaGFwZXMuZm9yRWFjaChhID0+IGEucmVtb3ZlKCkpOwogICAgICAgIGdyb3VwLmFuY2hvclNoYXBlcyA9IFtdOwogICAgICB9OwogICAgfSwKICAgIGRyYXdBbmNob3IoY2ZnLCBncm91cCkgewogICAgICBjb25zdCB7CiAgICAgICAgdHlwZSwKICAgICAgICBkaXJlY3Rpb24sCiAgICAgICAgYW5jaG9yUG9pbnRTdHlsZXMKICAgICAgfSA9IGdyb3VwLmdldEZpcnN0KCkuYXR0cigpOwogICAgICBjb25zdCBpdGVtID0gZ3JvdXAuZ2V0KCdjaGlsZHJlbicpWzBdOwogICAgICBjb25zdCBiQm94ID0gaXRlbS5nZXRCQm94KCk7CiAgICAgIGNvbnN0IGFuY2hvcnMgPSB0aGlzLmdldEFuY2hvclBvaW50cyhjZmcpOwogICAgICBhbmNob3JzICYmIGFuY2hvcnMuZm9yRWFjaCgocCwgaSkgPT4gewogICAgICAgIGNvbnN0IGRpZmYgPSB0eXBlID09PSAndHJpYW5nbGUtbm9kZScgPyBkaXJlY3Rpb24gPT09ICd1cCcgPyAxIDogMCA6IDAuNTsKICAgICAgICBjb25zdCB4ID0gYkJveC53aWR0aCAqIChwWzBdIC0gMC41KTsKICAgICAgICBjb25zdCB5ID0gYkJveC5oZWlnaHQgKiAocFsxXSAtIGRpZmYpOwogICAgICAgIGNvbnN0IGFuY2hvciA9IGdyb3VwLmFkZFNoYXBlKCdjaXJjbGUnLCB7CiAgICAgICAgICBhdHRyczogewogICAgICAgICAgICB4LAogICAgICAgICAgICB5LAogICAgICAgICAgICAuLi5hbmNob3JQb2ludFN0eWxlcwogICAgICAgICAgfSwKICAgICAgICAgIHpJbmRleDogMSwKICAgICAgICAgIG5vZGVJZDogZ3JvdXAuZ2V0KCdpZCcpLAogICAgICAgICAgY2xhc3NOYW1lOiAnbm9kZS1hbmNob3InLAogICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlLAogICAgICAgICAgaXNBbmNob3I6IHRydWUsCiAgICAgICAgICBpbmRleDogaQogICAgICAgIH0pOwogICAgICAgIGNvbnN0IGFuY2hvckdyb3VwID0gZ3JvdXAuYWRkU2hhcGUoJ2NpcmNsZScsIHsKICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgIHgsCiAgICAgICAgICAgIHksCiAgICAgICAgICAgIHI6IDExLAogICAgICAgICAgICBmaWxsOiAnIzAwMCcsCiAgICAgICAgICAgIG9wYWNpdHk6IDAKICAgICAgICAgIH0sCiAgICAgICAgICB6SW5kZXg6IDIsCiAgICAgICAgICBub2RlSWQ6IGdyb3VwLmdldCgnaWQnKSwKICAgICAgICAgIGNsYXNzTmFtZTogJ25vZGUtYW5jaG9yLWdyb3VwJywKICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZSwKICAgICAgICAgIGlzQW5jaG9yOiB0cnVlLAogICAgICAgICAgaW5kZXg6IGkKICAgICAgICB9KTsKICAgICAgICBhbmNob3JFdmVudChhbmNob3JHcm91cCwgZ3JvdXAsIHApOwogICAgICAgIGdyb3VwLmFuY2hvclNoYXBlcy5wdXNoKGFuY2hvcik7CiAgICAgICAgZ3JvdXAuYW5jaG9yU2hhcGVzLnB1c2goYW5jaG9yR3JvdXApOwogICAgICB9KTsKICAgICAgZ3JvdXAuZ2V0QWxsQW5jaG9ycyA9ICgpID0+IHsKICAgICAgICByZXR1cm4gZ3JvdXAuYW5jaG9yU2hhcGVzLmZpbHRlcihjID0+IGMuZ2V0KCdpc0FuY2hvcicpID09PSB0cnVlKTsKICAgICAgfTsKICAgICAgZ3JvdXAuZ2V0QW5jaG9yID0gaSA9PiB7CiAgICAgICAgcmV0dXJuIGdyb3VwLmFuY2hvclNoYXBlcy5maWx0ZXIoYyA9PiBjLmdldCgnY2xhc3NOYW1lJykgPT09ICdub2RlLWFuY2hvcicgJiYgYy5nZXQoJ2luZGV4JykgPT09IGkpOwogICAgICB9OwogICAgICBncm91cC5nZXRBbGxBbmNob3JCZyA9ICgpID0+IHsKICAgICAgICByZXR1cm4gZ3JvdXAuYW5jaG9yU2hhcGVzLmZpbHRlcihjID0+IGMuZ2V0KCdjbGFzc05hbWUnKSA9PT0gJ25vZGUtYW5jaG9yLWJnJyk7CiAgICAgIH07CiAgICB9LAogICAgLyogaHR0cHM6Ly9nNi5hbnR2LnZpc2lvbi96aC9kb2NzL21hbnVhbC9hZHZhbmNlZC9rZXljb25jZXB0L3NoYXBlLWFuZC1wcm9wZXJ0aWVzLyMlRTYlOTYlODclRTYlOUMlQUMtdGV4dCAqLwogICAgYWRkTGFiZWwoY2ZnLCBncm91cCwgYXR0cnMpIHsKICAgICAgY29uc3QgewogICAgICAgIGxhYmVsLAogICAgICAgIGxhYmVsQ2ZnLAogICAgICAgIGxhYmVscwogICAgICB9ID0gYXR0cnM7CgogICAgICAvKiBpZiAobGFiZWxDZmcgJiYgbGFiZWxDZmcuZm9udFNpemUgPCAxMikgew0KICAgICAgICBsYWJlbENmZy5mb250U2l6ZSA9IDEyOw0KICAgICAgfSAqLwoKICAgICAgaWYgKGxhYmVscykgewogICAgICAgIGxhYmVscy5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgY29uc3QgewogICAgICAgICAgICBsYWJlbCwKICAgICAgICAgICAgbGFiZWxDZmc6IHsKICAgICAgICAgICAgICBtYXhsZW5ndGgKICAgICAgICAgICAgfSwKICAgICAgICAgICAgY2xhc3NOYW1lCiAgICAgICAgICB9ID0gaXRlbTsKICAgICAgICAgIGxldCB0ZXh0ID0gbWF4bGVuZ3RoID8gbGFiZWwuc3Vic3RyKDAsIG1heGxlbmd0aCkgOiBsYWJlbCB8fCAnJzsKICAgICAgICAgIGlmIChsYWJlbC5sZW5ndGggPiBtYXhsZW5ndGgpIHsKICAgICAgICAgICAgdGV4dCA9IGAke3RleHR9Li4uYDsKICAgICAgICAgIH0KICAgICAgICAgIGdyb3VwLmFkZFNoYXBlKCd0ZXh0JywgewogICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgIHRleHQsCiAgICAgICAgICAgICAgLi4uaXRlbSwKICAgICAgICAgICAgICAuLi5pdGVtLmxhYmVsQ2ZnLAogICAgICAgICAgICAgIC4uLml0ZW0ubGFiZWxDZmcuc3R5bGUKICAgICAgICAgICAgfSwKICAgICAgICAgICAgY2xhc3NOYW1lOiBgbm9kZS10ZXh0ICR7Y2xhc3NOYW1lfWAsCiAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAobGFiZWwpIHsKICAgICAgICBjb25zdCB7CiAgICAgICAgICBtYXhsZW5ndGgKICAgICAgICB9ID0gbGFiZWxDZmc7CiAgICAgICAgbGV0IHRleHQgPSBtYXhsZW5ndGggPyBsYWJlbC5zdWJzdHIoMCwgbWF4bGVuZ3RoKSA6IGxhYmVsIHx8ICcnOwogICAgICAgIGlmIChsYWJlbC5sZW5ndGggPiBtYXhsZW5ndGgpIHsKICAgICAgICAgIHRleHQgPSBgJHt0ZXh0fS4uLmA7CiAgICAgICAgfQogICAgICAgIGdyb3VwLmFkZFNoYXBlKCd0ZXh0JywgewogICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgdGV4dCwKICAgICAgICAgICAgeDogMCwKICAgICAgICAgICAgeTogMCwKICAgICAgICAgICAgLi4ubGFiZWxDZmcsCiAgICAgICAgICAgIC4uLmxhYmVsQ2ZnLnN0eWxlCiAgICAgICAgICB9LAogICAgICAgICAgY2xhc3NOYW1lOiAnbm9kZS10ZXh0JywKICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgZHJhd01vZGVsUmVjdChncm91cCwgYXR0cnMpIHsKICAgICAgY29uc3QgewogICAgICAgIHByZVJlY3QsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH0gPSBhdHRyczsKICAgICAgY29uc3QgJHByZVJlY3QgPSB7CiAgICAgICAgc2hvdzogdHJ1ZSwKICAgICAgICB3aWR0aDogNCwKICAgICAgICBmaWxsOiAnIzQwYTlmZicsCiAgICAgICAgcmFkaXVzOiAyCiAgICAgIH07CiAgICAgIGlmICghcHJlUmVjdCB8fCBwcmVSZWN0LnNob3cgIT09IGZhbHNlKSB7CiAgICAgICAgZ3JvdXAuYWRkU2hhcGUoJ3JlY3QnLCB7CiAgICAgICAgICBhdHRyczogewogICAgICAgICAgICB4OiAtd2lkdGggLyAyLAogICAgICAgICAgICB5OiAtaGVpZ2h0IC8gMiwKICAgICAgICAgICAgaGVpZ2h0LAogICAgICAgICAgICAuLi4kcHJlUmVjdCwKICAgICAgICAgICAgLi4ucHJlUmVjdAogICAgICAgICAgfSwKICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgZHJhdyhjZmcsIGdyb3VwKSB7CiAgICAgIHJldHVybiB0aGlzLmRyYXdTaGFwZShjZmcsIGdyb3VwKTsKICAgIH0sCiAgICBkcmF3U2hhcGUoY2ZnLCBncm91cCkgewogICAgICBjb25zdCBhdHRycyA9IHRoaXMuZ2V0U2hhcGVTdHlsZShjZmcsIGdyb3VwKTsKICAgICAgY29uc3Qgc2hhcGUgPSBncm91cC5hZGRTaGFwZSh0aGlzLnNoYXBlVHlwZSwgewogICAgICAgIGNsYXNzTmFtZTogYCR7dGhpcy5zaGFwZVR5cGV9LXNoYXBlYCwKICAgICAgICB4U2hhcGVOb2RlOiB0cnVlLAogICAgICAgIGRyYWdnYWJsZTogdHJ1ZSwKICAgICAgICBhdHRycwogICAgICB9KTsKICAgICAgZ3JvdXAuJGdldEl0ZW0gPSBjbGFzc05hbWUgPT4gewogICAgICAgIHJldHVybiBncm91cC5nZXQoJ2NoaWxkcmVuJykuZmluZChpdGVtID0+IGl0ZW0uZ2V0KCdjbGFzc05hbWUnKSA9PT0gY2xhc3NOYW1lKTsKICAgICAgfTsKICAgICAgaWYgKHRoaXMudHlwZSA9PT0gJ21vZGVsUmVjdC1ub2RlJykgewogICAgICAgIHRoaXMuZHJhd01vZGVsUmVjdChncm91cCwgYXR0cnMpOwogICAgICB9CiAgICAgIHRoaXMuYWRkTGFiZWwoY2ZnLCBncm91cCwgYXR0cnMpOwogICAgICB0aGlzLmRyYXdJY29uKGNmZywgZ3JvdXAsIGF0dHJzKTsKICAgICAgdGhpcy5pbml0QW5jaG9yKGNmZywgZ3JvdXApOwogICAgICByZXR1cm4gc2hhcGU7CiAgICB9LAogICAgdXBkYXRlKGNmZywgbm9kZSkgewogICAgICBjb25zdCBtb2RlbCA9IG5vZGUuZ2V0KCdtb2RlbCcpOwogICAgICBjb25zdCB7CiAgICAgICAgYXR0cnMKICAgICAgfSA9IG5vZGUuZ2V0KCdrZXlTaGFwZScpOwogICAgICBjb25zdCB0ZXh0ID0gbm9kZS5nZXQoJ2dyb3VwJykuJGdldEl0ZW0oJ25vZGUtdGV4dCcpOwogICAgICBjb25zdCBpdGVtID0gbm9kZS5nZXQoJ2dyb3VwJykuZ2V0KCdjaGlsZHJlbicpWzBdOwogICAgICB0ZXh0ICYmIHRleHQuYXR0cih7CiAgICAgICAgdGV4dDogbW9kZWwubGFiZWwsCiAgICAgICAgLi4ubW9kZWwubGFiZWxDZmcuc3R5bGUKICAgICAgfSk7CiAgICAgIGl0ZW0uYXR0cih7CiAgICAgICAgLi4uYXR0cnMsCiAgICAgICAgLi4ubW9kZWwuc3R5bGUKICAgICAgfSk7CiAgICB9LAogICAgc2V0U3RhdGUobmFtZSwgdmFsdWUsIGl0ZW0pIHsKICAgICAgY29uc3QgYnVpbGRJbkV2ZW50cyA9IFsnYW5jaG9yU2hvdycsICdhbmNob3JBY3RpdmVkJywgJ25vZGVTdGF0ZScsICdub2RlU3RhdGU6ZGVmYXVsdCcsICdub2RlU3RhdGU6c2VsZWN0ZWQnLCAnbm9kZVN0YXRlOmhvdmVyJywgJ25vZGVPbkRyYWdTdGFydCcsICdub2RlT25EcmFnJywgJ25vZGVPbkRyYWdFbmQnXTsKICAgICAgY29uc3QgZ3JvdXAgPSBpdGVtLmdldENvbnRhaW5lcigpOwogICAgICBpZiAoZ3JvdXAuZ2V0KCdkZXN0cm95ZWQnKSkgcmV0dXJuOwogICAgICBpZiAoYnVpbGRJbkV2ZW50cy5pbmNsdWRlcyhuYW1lKSkgewogICAgICAgIGl0ZW1FdmVudHNbbmFtZV0uY2FsbCh0aGlzLCB2YWx1ZSwgZ3JvdXApOwogICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGVBcHBseWluZykgewogICAgICAgIHRoaXMuc3RhdGVBcHBseWluZy5jYWxsKHRoaXMsIG5hbWUsIHZhbHVlLCBpdGVtKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLndhcm4oYHdhcm5pbmc6ICR7bmFtZX0gbm90IHJlZ2lzdGVkIVxuYCk7CiAgICAgIH0KICAgIH0sCiAgICBnZXRBbmNob3JQb2ludHMoY2ZnKSB7CiAgICAgIHJldHVybiBjZmcuYW5jaG9yUG9pbnRzIHx8IFtbMC41LCAwXSwgWzEsIDAuNV0sIFswLjUsIDFdLCBbMCwgMC41XV07CiAgICB9CiAgfSwgJ3NpbmdsZS1ub2RlJyk7Cn0pOw=="},{"version":3,"names":["itemEvents","anchorEvent","defaultStyles","iconStyles","nodeStyles","anchorPointStyles","nodeLabelStyles","getStyle","options","cfg","style","labelCfg","nodeStateStyles","anchorHotsoptStyles","G6","registerNode","getShapeStyle","width","height","call","radius","x","y","drawIcon","group","attrs","logoIcon","stateIcon","icons","forEach","$item","index","className","type","item","$getItem","icon","addShape","img","draggable","toFront","show","hide","initAnchor","anchorShapes","showAnchor","drawAnchor","clearAnchor","a","remove","direction","getFirst","attr","get","bBox","getBBox","anchors","getAnchorPoints","p","i","diff","anchor","zIndex","nodeId","isAnchor","anchorGroup","r","fill","opacity","push","getAllAnchors","filter","c","getAnchor","getAllAnchorBg","addLabel","label","labels","maxlength","text","substr","length","drawModelRect","preRect","$preRect","draw","drawShape","shape","shapeType","xShapeNode","find","update","node","model","setState","name","value","buildInEvents","getContainer","includes","stateApplying","console","warn","anchorPoints"],"sources":["D:/develop_ryx/foundryGPT/frontend/src/components/graph/shape/items/base-node.js"],"sourcesContent":["\r\nimport itemEvents from './item-event';\r\nimport anchorEvent from './anchor-event';\r\nimport defaultStyles from '../defaultStyles';\r\n\r\nconst {\r\n  iconStyles,\r\n  nodeStyles,\r\n  anchorPointStyles,\r\n  nodeLabelStyles,\r\n} = defaultStyles;\r\n\r\nfunction getStyle (options, cfg) {\r\n  return {\r\n    ...cfg,\r\n\r\n    ...nodeStyles,\r\n    ...options,\r\n\r\n    ...cfg.style,\r\n\r\n    labelCfg: {\r\n      ...nodeLabelStyles,\r\n      ...cfg.labelCfg,\r\n    },\r\n\r\n    iconStyles: {\r\n      ...iconStyles,\r\n      ...cfg.iconStyles,\r\n    },\r\n\r\n    anchorPointStyles: {\r\n      ...anchorPointStyles,\r\n      ...cfg.anchorPointStyles,\r\n    },\r\n    ...cfg.nodeStateStyles,\r\n\r\n    anchorHotsoptStyles: cfg.anchorHotsoptStyles,\r\n  };\r\n}\r\n\r\nexport default G6 => {\r\n  G6.registerNode('base-node', {\r\n    getShapeStyle (cfg) {\r\n      const width = cfg.style.width || 80;\r\n      const height = cfg.style.height || 40;\r\n\r\n      return getStyle.call(this, {\r\n        width,\r\n        height,\r\n        radius: 5,\r\n        x:      -width / 2,\r\n        y:      -height / 2,\r\n      }, cfg);\r\n    },\r\n\r\n    drawIcon (cfg, group, attrs) {\r\n      const { logoIcon, stateIcon } = attrs;\r\n      const icons = [logoIcon, stateIcon];\r\n\r\n      icons.forEach(($item, index) => {\r\n        if ($item) {\r\n          const className = `${attrs.type}-${index === 0 ? 'logoIcon' : 'stateIcon'}`;\r\n\r\n          let item = group.$getItem(className);\r\n\r\n          if (!item) {\r\n            const icon = group.addShape($item.img ? 'image' : 'text', {\r\n              attrs: {\r\n                ...$item,\r\n                ...$item.style,\r\n              },\r\n              draggable: true,\r\n              className,\r\n            });\r\n\r\n            icon.toFront();\r\n            item = group.$getItem(className);\r\n          }\r\n\r\n          if (item) {\r\n            if ($item.show) {\r\n              item.show();\r\n            } else {\r\n              item.hide();\r\n            }\r\n          }\r\n        }\r\n      });\r\n    },\r\n\r\n    initAnchor (cfg, group) {\r\n      group.anchorShapes = [];\r\n      group.showAnchor = group => {\r\n        this.drawAnchor(cfg, group);\r\n      };\r\n      group.clearAnchor = group => {\r\n        group.anchorShapes && group.anchorShapes.forEach(a => a.remove());\r\n        group.anchorShapes = [];\r\n      };\r\n    },\r\n    drawAnchor (cfg, group) {\r\n      const { type, direction, anchorPointStyles } = group.getFirst().attr();\r\n      const item = group.get('children')[0];\r\n      const bBox = item.getBBox();\r\n      const anchors = this.getAnchorPoints(cfg);\r\n\r\n\r\n      anchors && anchors.forEach((p, i) => {\r\n        const diff = type === 'triangle-node' ? (direction === 'up' ? 1 : 0) : 0.5;\r\n        const x = bBox.width * (p[0] - 0.5);\r\n        const y = bBox.height * (p[1] - diff);\r\n\r\n\r\n        \r\n        const anchor = group.addShape('circle', {\r\n          attrs: {\r\n            x,\r\n            y,\r\n            ...anchorPointStyles,\r\n          },\r\n          zIndex:    1,\r\n          nodeId:    group.get('id'),\r\n          className: 'node-anchor',\r\n          draggable: true,\r\n          isAnchor:  true,\r\n          index:     i,\r\n        });\r\n\r\n\r\n        const anchorGroup = group.addShape('circle', {\r\n          attrs: {\r\n            x,\r\n            y,\r\n            r:       11,\r\n            fill:    '#000',\r\n            opacity: 0,\r\n          },\r\n          zIndex:    2,\r\n          nodeId:    group.get('id'),\r\n          className: 'node-anchor-group',\r\n          draggable: true,\r\n          isAnchor:  true,\r\n          index:     i,\r\n        });\r\n\r\n\r\n        \r\n        anchorEvent(anchorGroup, group, p);\r\n\r\n        group.anchorShapes.push(anchor);\r\n        group.anchorShapes.push(anchorGroup);\r\n      });\r\n\r\n\r\n      group.getAllAnchors = () => {\r\n        return group.anchorShapes.filter(c => c.get('isAnchor') === true);\r\n      };\r\n\r\n      group.getAnchor = (i) => {\r\n        return group.anchorShapes.filter(c => c.get('className') === 'node-anchor' && c.get('index') === i);\r\n      };\r\n\r\n      group.getAllAnchorBg = () => {\r\n        return group.anchorShapes.filter(c => c.get('className') === 'node-anchor-bg');\r\n      };\r\n    },\r\n\r\n    /* https://g6.antv.vision/zh/docs/manual/advanced/keyconcept/shape-and-properties/#%E6%96%87%E6%9C%AC-text */\r\n    addLabel (cfg, group, attrs) {\r\n      const { label, labelCfg, labels } = attrs;\r\n\r\n      /* if (labelCfg && labelCfg.fontSize < 12) {\r\n        labelCfg.fontSize = 12;\r\n      } */\r\n\r\n\r\n      if (labels) {\r\n        labels.forEach(item => {\r\n          const { label, labelCfg: { maxlength }, className } = item;\r\n\r\n          let text = maxlength ? label.substr(0, maxlength) : label || '';\r\n\r\n          if (label.length > maxlength) {\r\n            text = `${text}...`;\r\n          }\r\n\r\n          group.addShape('text', {\r\n            attrs: {\r\n              text,\r\n              ...item,\r\n              ...item.labelCfg,\r\n              ...item.labelCfg.style,\r\n            },\r\n            className: `node-text ${className}`,\r\n            draggable: true,\r\n          });\r\n        });\r\n      } else if (label) {\r\n        const { maxlength } = labelCfg;\r\n\r\n        let text = maxlength ? label.substr(0, maxlength) : label || '';\r\n\r\n        if (label.length > maxlength) {\r\n          text = `${text}...`;\r\n        }\r\n\r\n        group.addShape('text', {\r\n            attrs: {\r\n              text,\r\n              x: 0,\r\n              y: 0,\r\n              ...labelCfg,\r\n              ...labelCfg.style,\r\n            },\r\n            className: 'node-text',\r\n            draggable: true,\r\n          });\r\n      }\r\n    },\r\n    drawModelRect (group, attrs) {\r\n      const { preRect, width, height } = attrs;\r\n      const $preRect = {\r\n        show:   true, \r\n        width:  4,\r\n        fill:   '#40a9ff',\r\n        radius: 2,\r\n      };\r\n\r\n      if (!preRect || preRect.show !== false) {\r\n        group.addShape('rect', {\r\n          attrs: {\r\n            x: -width / 2,\r\n            y: -height / 2,\r\n            height,\r\n            ...$preRect,\r\n            ...preRect,\r\n          },\r\n          draggable: true,\r\n        });\r\n      }\r\n    },\r\n\r\n    draw (cfg, group) {\r\n      return this.drawShape(cfg, group);\r\n    },\r\n\r\n    drawShape (cfg, group) { \r\n\r\n      const attrs = this.getShapeStyle(cfg, group);\r\n\r\n      const shape = group.addShape(this.shapeType, {\r\n        className:  `${this.shapeType}-shape`,\r\n        xShapeNode: true, \r\n        draggable:  true,\r\n        attrs,\r\n      });\r\n\r\n\r\n      group.$getItem = className => {\r\n        return group.get('children').find(item => item.get('className') === className);\r\n      };\r\n\r\n      if (this.type === 'modelRect-node') {\r\n        this.drawModelRect(group, attrs);\r\n      }\r\n\r\n      this.addLabel(cfg, group, attrs);\r\n\r\n      this.drawIcon(cfg, group, attrs);\r\n\r\n      this.initAnchor(cfg, group);\r\n\r\n      return shape;\r\n    },\r\n\r\n    update (cfg, node) {\r\n      const model = node.get('model');\r\n      const { attrs } = node.get('keyShape');\r\n      const text = node.get('group').$getItem('node-text');\r\n      const item = node.get('group').get('children')[0];\r\n\r\n\r\n      text && text.attr({\r\n        text: model.label,\r\n      ...model.labelCfg.style,\r\n      });\r\n\r\n      item.attr({ ...attrs, ...model.style });\r\n    },\r\n\r\n    setState (name, value, item) {\r\n      const buildInEvents = [\r\n        'anchorShow',\r\n        'anchorActived',\r\n        'nodeState',\r\n        'nodeState:default',\r\n        'nodeState:selected',\r\n        'nodeState:hover',\r\n        'nodeOnDragStart',\r\n        'nodeOnDrag',\r\n        'nodeOnDragEnd',\r\n      ];\r\n      const group = item.getContainer();\r\n\r\n      if (group.get('destroyed')) return;\r\n      if (buildInEvents.includes(name)) {\r\n\r\n        itemEvents[name].call(this, value, group);\r\n      } else if (this.stateApplying) {\r\n        this.stateApplying.call(this, name, value, item);\r\n      } else {\r\n        console.warn(`warning: ${name} not registed!\\n`);\r\n      }\r\n    },\r\n\r\n    getAnchorPoints (cfg) {\r\n      return cfg.anchorPoints || [\r\n        [0.5, 0],\r\n        [1, 0.5],\r\n        [0.5, 1],\r\n        [0, 0.5],\r\n      ];\r\n    },\r\n  }, 'single-node');\r\n};\r\n"],"mappings":"AACA,OAAOA,UAAU,MAAM,cAAc;AACrC,OAAOC,WAAW,MAAM,gBAAgB;AACxC,OAAOC,aAAa,MAAM,kBAAkB;AAE5C,MAAM;EACJC,UAAU;EACVC,UAAU;EACVC,iBAAiB;EACjBC;AACF,CAAC,GAAGJ,aAAa;AAEjB,SAASK,QAAQA,CAAEC,OAAO,EAAEC,GAAG,EAAE;EAC/B,OAAO;IACL,GAAGA,GAAG;IAEN,GAAGL,UAAU;IACb,GAAGI,OAAO;IAEV,GAAGC,GAAG,CAACC,KAAK;IAEZC,QAAQ,EAAE;MACR,GAAGL,eAAe;MAClB,GAAGG,GAAG,CAACE;IACT,CAAC;IAEDR,UAAU,EAAE;MACV,GAAGA,UAAU;MACb,GAAGM,GAAG,CAACN;IACT,CAAC;IAEDE,iBAAiB,EAAE;MACjB,GAAGA,iBAAiB;MACpB,GAAGI,GAAG,CAACJ;IACT,CAAC;IACD,GAAGI,GAAG,CAACG,eAAe;IAEtBC,mBAAmB,EAAEJ,GAAG,CAACI;EAC3B,CAAC;AACH;AAEA,gBAAeC,EAAE,IAAI;EACnBA,EAAE,CAACC,YAAY,CAAC,WAAW,EAAE;IAC3BC,aAAaA,CAAEP,GAAG,EAAE;MAClB,MAAMQ,KAAK,GAAGR,GAAG,CAACC,KAAK,CAACO,KAAK,IAAI,EAAE;MACnC,MAAMC,MAAM,GAAGT,GAAG,CAACC,KAAK,CAACQ,MAAM,IAAI,EAAE;MAErC,OAAOX,QAAQ,CAACY,IAAI,CAAC,IAAI,EAAE;QACzBF,KAAK;QACLC,MAAM;QACNE,MAAM,EAAE,CAAC;QACTC,CAAC,EAAO,CAACJ,KAAK,GAAG,CAAC;QAClBK,CAAC,EAAO,CAACJ,MAAM,GAAG;MACpB,CAAC,EAAET,GAAG,CAAC;IACT,CAAC;IAEDc,QAAQA,CAAEd,GAAG,EAAEe,KAAK,EAAEC,KAAK,EAAE;MAC3B,MAAM;QAAEC,QAAQ;QAAEC;MAAU,CAAC,GAAGF,KAAK;MACrC,MAAMG,KAAK,GAAG,CAACF,QAAQ,EAAEC,SAAS,CAAC;MAEnCC,KAAK,CAACC,OAAO,CAAC,CAACC,KAAK,EAAEC,KAAK,KAAK;QAC9B,IAAID,KAAK,EAAE;UACT,MAAME,SAAS,GAAI,GAAEP,KAAK,CAACQ,IAAK,IAAGF,KAAK,KAAK,CAAC,GAAG,UAAU,GAAG,WAAY,EAAC;UAE3E,IAAIG,IAAI,GAAGV,KAAK,CAACW,QAAQ,CAACH,SAAS,CAAC;UAEpC,IAAI,CAACE,IAAI,EAAE;YACT,MAAME,IAAI,GAAGZ,KAAK,CAACa,QAAQ,CAACP,KAAK,CAACQ,GAAG,GAAG,OAAO,GAAG,MAAM,EAAE;cACxDb,KAAK,EAAE;gBACL,GAAGK,KAAK;gBACR,GAAGA,KAAK,CAACpB;cACX,CAAC;cACD6B,SAAS,EAAE,IAAI;cACfP;YACF,CAAC,CAAC;YAEFI,IAAI,CAACI,OAAO,CAAC,CAAC;YACdN,IAAI,GAAGV,KAAK,CAACW,QAAQ,CAACH,SAAS,CAAC;UAClC;UAEA,IAAIE,IAAI,EAAE;YACR,IAAIJ,KAAK,CAACW,IAAI,EAAE;cACdP,IAAI,CAACO,IAAI,CAAC,CAAC;YACb,CAAC,MAAM;cACLP,IAAI,CAACQ,IAAI,CAAC,CAAC;YACb;UACF;QACF;MACF,CAAC,CAAC;IACJ,CAAC;IAEDC,UAAUA,CAAElC,GAAG,EAAEe,KAAK,EAAE;MACtBA,KAAK,CAACoB,YAAY,GAAG,EAAE;MACvBpB,KAAK,CAACqB,UAAU,GAAGrB,KAAK,IAAI;QAC1B,IAAI,CAACsB,UAAU,CAACrC,GAAG,EAAEe,KAAK,CAAC;MAC7B,CAAC;MACDA,KAAK,CAACuB,WAAW,GAAGvB,KAAK,IAAI;QAC3BA,KAAK,CAACoB,YAAY,IAAIpB,KAAK,CAACoB,YAAY,CAACf,OAAO,CAACmB,CAAC,IAAIA,CAAC,CAACC,MAAM,CAAC,CAAC,CAAC;QACjEzB,KAAK,CAACoB,YAAY,GAAG,EAAE;MACzB,CAAC;IACH,CAAC;IACDE,UAAUA,CAAErC,GAAG,EAAEe,KAAK,EAAE;MACtB,MAAM;QAAES,IAAI;QAAEiB,SAAS;QAAE7C;MAAkB,CAAC,GAAGmB,KAAK,CAAC2B,QAAQ,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;MACtE,MAAMlB,IAAI,GAAGV,KAAK,CAAC6B,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;MACrC,MAAMC,IAAI,GAAGpB,IAAI,CAACqB,OAAO,CAAC,CAAC;MAC3B,MAAMC,OAAO,GAAG,IAAI,CAACC,eAAe,CAAChD,GAAG,CAAC;MAGzC+C,OAAO,IAAIA,OAAO,CAAC3B,OAAO,CAAC,CAAC6B,CAAC,EAAEC,CAAC,KAAK;QACnC,MAAMC,IAAI,GAAG3B,IAAI,KAAK,eAAe,GAAIiB,SAAS,KAAK,IAAI,GAAG,CAAC,GAAG,CAAC,GAAI,GAAG;QAC1E,MAAM7B,CAAC,GAAGiC,IAAI,CAACrC,KAAK,IAAIyC,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;QACnC,MAAMpC,CAAC,GAAGgC,IAAI,CAACpC,MAAM,IAAIwC,CAAC,CAAC,CAAC,CAAC,GAAGE,IAAI,CAAC;QAIrC,MAAMC,MAAM,GAAGrC,KAAK,CAACa,QAAQ,CAAC,QAAQ,EAAE;UACtCZ,KAAK,EAAE;YACLJ,CAAC;YACDC,CAAC;YACD,GAAGjB;UACL,CAAC;UACDyD,MAAM,EAAK,CAAC;UACZC,MAAM,EAAKvC,KAAK,CAAC6B,GAAG,CAAC,IAAI,CAAC;UAC1BrB,SAAS,EAAE,aAAa;UACxBO,SAAS,EAAE,IAAI;UACfyB,QAAQ,EAAG,IAAI;UACfjC,KAAK,EAAM4B;QACb,CAAC,CAAC;QAGF,MAAMM,WAAW,GAAGzC,KAAK,CAACa,QAAQ,CAAC,QAAQ,EAAE;UAC3CZ,KAAK,EAAE;YACLJ,CAAC;YACDC,CAAC;YACD4C,CAAC,EAAQ,EAAE;YACXC,IAAI,EAAK,MAAM;YACfC,OAAO,EAAE;UACX,CAAC;UACDN,MAAM,EAAK,CAAC;UACZC,MAAM,EAAKvC,KAAK,CAAC6B,GAAG,CAAC,IAAI,CAAC;UAC1BrB,SAAS,EAAE,mBAAmB;UAC9BO,SAAS,EAAE,IAAI;UACfyB,QAAQ,EAAG,IAAI;UACfjC,KAAK,EAAM4B;QACb,CAAC,CAAC;QAIF1D,WAAW,CAACgE,WAAW,EAAEzC,KAAK,EAAEkC,CAAC,CAAC;QAElClC,KAAK,CAACoB,YAAY,CAACyB,IAAI,CAACR,MAAM,CAAC;QAC/BrC,KAAK,CAACoB,YAAY,CAACyB,IAAI,CAACJ,WAAW,CAAC;MACtC,CAAC,CAAC;MAGFzC,KAAK,CAAC8C,aAAa,GAAG,MAAM;QAC1B,OAAO9C,KAAK,CAACoB,YAAY,CAAC2B,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACnB,GAAG,CAAC,UAAU,CAAC,KAAK,IAAI,CAAC;MACnE,CAAC;MAED7B,KAAK,CAACiD,SAAS,GAAId,CAAC,IAAK;QACvB,OAAOnC,KAAK,CAACoB,YAAY,CAAC2B,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACnB,GAAG,CAAC,WAAW,CAAC,KAAK,aAAa,IAAImB,CAAC,CAACnB,GAAG,CAAC,OAAO,CAAC,KAAKM,CAAC,CAAC;MACrG,CAAC;MAEDnC,KAAK,CAACkD,cAAc,GAAG,MAAM;QAC3B,OAAOlD,KAAK,CAACoB,YAAY,CAAC2B,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACnB,GAAG,CAAC,WAAW,CAAC,KAAK,gBAAgB,CAAC;MAChF,CAAC;IACH,CAAC;IAED;IACAsB,QAAQA,CAAElE,GAAG,EAAEe,KAAK,EAAEC,KAAK,EAAE;MAC3B,MAAM;QAAEmD,KAAK;QAAEjE,QAAQ;QAAEkE;MAAO,CAAC,GAAGpD,KAAK;;MAEzC;AACN;AACA;;MAGM,IAAIoD,MAAM,EAAE;QACVA,MAAM,CAAChD,OAAO,CAACK,IAAI,IAAI;UACrB,MAAM;YAAE0C,KAAK;YAAEjE,QAAQ,EAAE;cAAEmE;YAAU,CAAC;YAAE9C;UAAU,CAAC,GAAGE,IAAI;UAE1D,IAAI6C,IAAI,GAAGD,SAAS,GAAGF,KAAK,CAACI,MAAM,CAAC,CAAC,EAAEF,SAAS,CAAC,GAAGF,KAAK,IAAI,EAAE;UAE/D,IAAIA,KAAK,CAACK,MAAM,GAAGH,SAAS,EAAE;YAC5BC,IAAI,GAAI,GAAEA,IAAK,KAAI;UACrB;UAEAvD,KAAK,CAACa,QAAQ,CAAC,MAAM,EAAE;YACrBZ,KAAK,EAAE;cACLsD,IAAI;cACJ,GAAG7C,IAAI;cACP,GAAGA,IAAI,CAACvB,QAAQ;cAChB,GAAGuB,IAAI,CAACvB,QAAQ,CAACD;YACnB,CAAC;YACDsB,SAAS,EAAG,aAAYA,SAAU,EAAC;YACnCO,SAAS,EAAE;UACb,CAAC,CAAC;QACJ,CAAC,CAAC;MACJ,CAAC,MAAM,IAAIqC,KAAK,EAAE;QAChB,MAAM;UAAEE;QAAU,CAAC,GAAGnE,QAAQ;QAE9B,IAAIoE,IAAI,GAAGD,SAAS,GAAGF,KAAK,CAACI,MAAM,CAAC,CAAC,EAAEF,SAAS,CAAC,GAAGF,KAAK,IAAI,EAAE;QAE/D,IAAIA,KAAK,CAACK,MAAM,GAAGH,SAAS,EAAE;UAC5BC,IAAI,GAAI,GAAEA,IAAK,KAAI;QACrB;QAEAvD,KAAK,CAACa,QAAQ,CAAC,MAAM,EAAE;UACnBZ,KAAK,EAAE;YACLsD,IAAI;YACJ1D,CAAC,EAAE,CAAC;YACJC,CAAC,EAAE,CAAC;YACJ,GAAGX,QAAQ;YACX,GAAGA,QAAQ,CAACD;UACd,CAAC;UACDsB,SAAS,EAAE,WAAW;UACtBO,SAAS,EAAE;QACb,CAAC,CAAC;MACN;IACF,CAAC;IACD2C,aAAaA,CAAE1D,KAAK,EAAEC,KAAK,EAAE;MAC3B,MAAM;QAAE0D,OAAO;QAAElE,KAAK;QAAEC;MAAO,CAAC,GAAGO,KAAK;MACxC,MAAM2D,QAAQ,GAAG;QACf3C,IAAI,EAAI,IAAI;QACZxB,KAAK,EAAG,CAAC;QACTkD,IAAI,EAAI,SAAS;QACjB/C,MAAM,EAAE;MACV,CAAC;MAED,IAAI,CAAC+D,OAAO,IAAIA,OAAO,CAAC1C,IAAI,KAAK,KAAK,EAAE;QACtCjB,KAAK,CAACa,QAAQ,CAAC,MAAM,EAAE;UACrBZ,KAAK,EAAE;YACLJ,CAAC,EAAE,CAACJ,KAAK,GAAG,CAAC;YACbK,CAAC,EAAE,CAACJ,MAAM,GAAG,CAAC;YACdA,MAAM;YACN,GAAGkE,QAAQ;YACX,GAAGD;UACL,CAAC;UACD5C,SAAS,EAAE;QACb,CAAC,CAAC;MACJ;IACF,CAAC;IAED8C,IAAIA,CAAE5E,GAAG,EAAEe,KAAK,EAAE;MAChB,OAAO,IAAI,CAAC8D,SAAS,CAAC7E,GAAG,EAAEe,KAAK,CAAC;IACnC,CAAC;IAED8D,SAASA,CAAE7E,GAAG,EAAEe,KAAK,EAAE;MAErB,MAAMC,KAAK,GAAG,IAAI,CAACT,aAAa,CAACP,GAAG,EAAEe,KAAK,CAAC;MAE5C,MAAM+D,KAAK,GAAG/D,KAAK,CAACa,QAAQ,CAAC,IAAI,CAACmD,SAAS,EAAE;QAC3CxD,SAAS,EAAI,GAAE,IAAI,CAACwD,SAAU,QAAO;QACrCC,UAAU,EAAE,IAAI;QAChBlD,SAAS,EAAG,IAAI;QAChBd;MACF,CAAC,CAAC;MAGFD,KAAK,CAACW,QAAQ,GAAGH,SAAS,IAAI;QAC5B,OAAOR,KAAK,CAAC6B,GAAG,CAAC,UAAU,CAAC,CAACqC,IAAI,CAACxD,IAAI,IAAIA,IAAI,CAACmB,GAAG,CAAC,WAAW,CAAC,KAAKrB,SAAS,CAAC;MAChF,CAAC;MAED,IAAI,IAAI,CAACC,IAAI,KAAK,gBAAgB,EAAE;QAClC,IAAI,CAACiD,aAAa,CAAC1D,KAAK,EAAEC,KAAK,CAAC;MAClC;MAEA,IAAI,CAACkD,QAAQ,CAAClE,GAAG,EAAEe,KAAK,EAAEC,KAAK,CAAC;MAEhC,IAAI,CAACF,QAAQ,CAACd,GAAG,EAAEe,KAAK,EAAEC,KAAK,CAAC;MAEhC,IAAI,CAACkB,UAAU,CAAClC,GAAG,EAAEe,KAAK,CAAC;MAE3B,OAAO+D,KAAK;IACd,CAAC;IAEDI,MAAMA,CAAElF,GAAG,EAAEmF,IAAI,EAAE;MACjB,MAAMC,KAAK,GAAGD,IAAI,CAACvC,GAAG,CAAC,OAAO,CAAC;MAC/B,MAAM;QAAE5B;MAAM,CAAC,GAAGmE,IAAI,CAACvC,GAAG,CAAC,UAAU,CAAC;MACtC,MAAM0B,IAAI,GAAGa,IAAI,CAACvC,GAAG,CAAC,OAAO,CAAC,CAAClB,QAAQ,CAAC,WAAW,CAAC;MACpD,MAAMD,IAAI,GAAG0D,IAAI,CAACvC,GAAG,CAAC,OAAO,CAAC,CAACA,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;MAGjD0B,IAAI,IAAIA,IAAI,CAAC3B,IAAI,CAAC;QAChB2B,IAAI,EAAEc,KAAK,CAACjB,KAAK;QACnB,GAAGiB,KAAK,CAAClF,QAAQ,CAACD;MAClB,CAAC,CAAC;MAEFwB,IAAI,CAACkB,IAAI,CAAC;QAAE,GAAG3B,KAAK;QAAE,GAAGoE,KAAK,CAACnF;MAAM,CAAC,CAAC;IACzC,CAAC;IAEDoF,QAAQA,CAAEC,IAAI,EAAEC,KAAK,EAAE9D,IAAI,EAAE;MAC3B,MAAM+D,aAAa,GAAG,CACpB,YAAY,EACZ,eAAe,EACf,WAAW,EACX,mBAAmB,EACnB,oBAAoB,EACpB,iBAAiB,EACjB,iBAAiB,EACjB,YAAY,EACZ,eAAe,CAChB;MACD,MAAMzE,KAAK,GAAGU,IAAI,CAACgE,YAAY,CAAC,CAAC;MAEjC,IAAI1E,KAAK,CAAC6B,GAAG,CAAC,WAAW,CAAC,EAAE;MAC5B,IAAI4C,aAAa,CAACE,QAAQ,CAACJ,IAAI,CAAC,EAAE;QAEhC/F,UAAU,CAAC+F,IAAI,CAAC,CAAC5E,IAAI,CAAC,IAAI,EAAE6E,KAAK,EAAExE,KAAK,CAAC;MAC3C,CAAC,MAAM,IAAI,IAAI,CAAC4E,aAAa,EAAE;QAC7B,IAAI,CAACA,aAAa,CAACjF,IAAI,CAAC,IAAI,EAAE4E,IAAI,EAAEC,KAAK,EAAE9D,IAAI,CAAC;MAClD,CAAC,MAAM;QACLmE,OAAO,CAACC,IAAI,CAAE,YAAWP,IAAK,kBAAiB,CAAC;MAClD;IACF,CAAC;IAEDtC,eAAeA,CAAEhD,GAAG,EAAE;MACpB,OAAOA,GAAG,CAAC8F,YAAY,IAAI,CACzB,CAAC,GAAG,EAAE,CAAC,CAAC,EACR,CAAC,CAAC,EAAE,GAAG,CAAC,EACR,CAAC,GAAG,EAAE,CAAC,CAAC,EACR,CAAC,CAAC,EAAE,GAAG,CAAC,CACT;IACH;EACF,CAAC,EAAE,aAAa,CAAC;AACnB,CAAC"}]}