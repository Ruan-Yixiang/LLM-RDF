{"remainingRequest":"F:\\fGPT\\foundryGPT\\frontend\\node_modules\\babel-loader\\lib\\index.js!F:\\fGPT\\foundryGPT\\frontend\\src\\components\\graph\\shape\\edges\\base-edge.js","dependencies":[{"path":"F:\\fGPT\\foundryGPT\\frontend\\src\\components\\graph\\shape\\edges\\base-edge.js","mtime":1687240100000},{"path":"F:\\fGPT\\foundryGPT\\frontend\\babel.config.js","mtime":1645975642000},{"path":"F:\\fGPT\\foundryGPT\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\fGPT\\foundryGPT\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM3Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM3LmFycmF5LmluY2x1ZGVzIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJGOi9mR1BUL2ZvdW5kcnlHUFQvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5LmpzIjsKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307IGkgJSAyID8gb3duS2V5cyhPYmplY3Qoc291cmNlKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSkgOiBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH0KaW1wb3J0IGFuaW1hdGlvbiBmcm9tICIuL2VkZ2UtYW5pbWF0aW9ucyI7CmltcG9ydCBpdGVtRXZlbnRzIGZyb20gIi4uL2l0ZW1zL2l0ZW0tZXZlbnQiOwppbXBvcnQgaHZoX2ggZnJvbSAiLi9odmgtaC5qcyI7CmltcG9ydCBodmggZnJvbSAiLi9odmguanMiOwpmdW5jdGlvbiBkcmF3U2hhcGUoY2ZnLCBncm91cCkgewogIGdyb3VwLnJ1bm5pbmcgPSBmYWxzZTsKICBncm91cC5ydW5uZXJzID0gW107CiAgdmFyIHNoYXBlU3R5bGUgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmdldFNoYXBlU3R5bGUoY2ZnKSwgX29iamVjdFNwcmVhZCh7fSwgY2ZnLmVkZ2VTdGF0ZVN0eWxlcykpOwogIHZhciBrZXlTaGFwZSA9IGdyb3VwLmFkZFNoYXBlKCdwYXRoJywgewogICAgY2xhc3NOYW1lOiAnZWRnZS1zaGFwZScsCiAgICBuYW1lOiAnZWRnZS1zaGFwZScsCiAgICBhdHRyczogc2hhcGVTdHlsZQogIH0pOwogIHJldHVybiBrZXlTaGFwZTsKfQpmdW5jdGlvbiBzZXRTdGF0ZShuYW1lLCB2YWx1ZSwgaXRlbSkgewogIHZhciBidWlsZEluRXZlbnRzID0gWydlZGdlU3RhdGUnLCAnZWRnZVN0YXRlOmRlZmF1bHQnLCAnZWRnZVN0YXRlOnNlbGVjdGVkJywgJ2VkZ2VTdGF0ZTpob3ZlciddOwogIHZhciBncm91cCA9IGl0ZW0uZ2V0Q29udGFpbmVyKCk7CiAgaWYgKGdyb3VwLmdldCgnZGVzdHJveWVkJykpIHJldHVybjsKICBpZiAoYnVpbGRJbkV2ZW50cy5pbmNsdWRlcyhuYW1lKSkgewogICAgaXRlbUV2ZW50c1tuYW1lXS5jYWxsKHRoaXMsIHZhbHVlLCBncm91cCk7CiAgfSBlbHNlIGlmICh0aGlzLnN0YXRlQXBwbHlpbmcpIHsKICAgIHRoaXMuc3RhdGVBcHBseWluZy5jYWxsKHRoaXMsIG5hbWUsIHZhbHVlLCBpdGVtKTsKICB9IGVsc2UgewogICAgY29uc29sZS53YXJuKCJ3YXJuaW5nOiBlZGdlICIuY29uY2F0KG5hbWUsICIgXHU0RThCXHU0RUY2XHU1NkRFXHU4QzAzXHU2NzJBXHU2Q0U4XHU1MThDISIpKTsKICB9Cn0KZnVuY3Rpb24gcnVuQW5pbWF0ZShncm91cCwgYW5pbWF0aW9uVHlwZSkgewogIGlmIChncm91cC5ydW5uaW5nKSByZXR1cm47CiAgLy8gZ3JvdXAucnVubmluZyA9IHRydWU7CiAgLy8gZ3JvdXAudG9Gcm9udCgpOwogIC8vIGFuaW1hdGlvblthbmltYXRpb25UeXBlXS5ydW4uY2FsbCh0aGlzLCBncm91cCk7Cn0KLy8gZnVuY3Rpb24gcnVuQW5pbWF0ZSAoZ3JvdXAsIGFuaW1hdGlvblR5cGUpIHsKLy8gICBpZiAoZ3JvdXAucnVubmluZykgcmV0dXJuOwovLyAgIGdyb3VwLnJ1bm5pbmcgPSB0cnVlOwovLyAgIGdyb3VwLnRvRnJvbnQoKTsKLy8gICBhbmltYXRpb25bYW5pbWF0aW9uVHlwZV0ucnVuLmNhbGwodGhpcywgZ3JvdXApOwovLyB9CgpmdW5jdGlvbiBzdG9wQW5pbWF0ZShncm91cCwgYW5pbWF0aW9uVHlwZSkgewogIGFuaW1hdGlvblthbmltYXRpb25UeXBlXS5zdG9wLmNhbGwodGhpcywgZ3JvdXApOwp9CgovLyBmdW5jdGlvbiBzdG9wQW5pbWF0ZSAoZ3JvdXAsIGFuaW1hdGlvblR5cGUpIHsKLy8gICBhbmltYXRpb25bYW5pbWF0aW9uVHlwZV0uc3RvcC5jYWxsKHRoaXMsIGdyb3VwKTsKLy8gfQoKZnVuY3Rpb24gaW5oZXJpdEVkZ2UoRzYsIG5hbWUpIHsKICBHNi5yZWdpc3RlckVkZ2UoIiIuY29uY2F0KG5hbWUsICItZWRnZSIpLCB7CiAgICBkcmF3U2hhcGU6IGRyYXdTaGFwZSwKICAgIHNldFN0YXRlOiBzZXRTdGF0ZSwKICAgIHJ1bkFuaW1hdGU6IHJ1bkFuaW1hdGUsCiAgICBzdG9wQW5pbWF0ZTogc3RvcEFuaW1hdGUKICB9LCBuYW1lKTsKfQpleHBvcnQgZGVmYXVsdCAoZnVuY3Rpb24gKEc2KSB7CiAgdmFyIGVkZ2VBcnJheSA9IFsnbGluZScsICdwb2x5bGluZScsICdxdWFkcmF0aWMnLCAnY3ViaWMnLCAnYXJjJ107CiAgZWRnZUFycmF5LmZvckVhY2goZnVuY3Rpb24gKGVkZ2UpIHsKICAgIGluaGVyaXRFZGdlKEc2LCBlZGdlKTsKICB9KTsKICBodmgoRzYsIHsKICAgIGRyYXdTaGFwZTogZHJhd1NoYXBlLAogICAgc2V0U3RhdGU6IHNldFN0YXRlLAogICAgcnVuQW5pbWF0ZTogcnVuQW5pbWF0ZSwKICAgIHN0b3BBbmltYXRlOiBzdG9wQW5pbWF0ZQogIH0pOwogIGh2aF9oKEc2LCB7CiAgICBkcmF3U2hhcGU6IGRyYXdTaGFwZSwKICAgIHNldFN0YXRlOiBzZXRTdGF0ZSwKICAgIHJ1bkFuaW1hdGU6IHJ1bkFuaW1hdGUsCiAgICBzdG9wQW5pbWF0ZTogc3RvcEFuaW1hdGUKICB9KTsKfSk7"},{"version":3,"names":["animation","itemEvents","hvh_h","hvh","drawShape","cfg","group","running","runners","shapeStyle","Object","assign","getShapeStyle","_objectSpread","edgeStateStyles","keyShape","addShape","className","name","attrs","setState","value","item","buildInEvents","getContainer","get","includes","call","stateApplying","console","warn","concat","runAnimate","animationType","stopAnimate","stop","inheritEdge","G6","registerEdge","edgeArray","forEach","edge"],"sources":["F:/fGPT/foundryGPT/frontend/src/components/graph/shape/edges/base-edge.js"],"sourcesContent":["\r\n\r\nimport animation from './edge-animations';\r\nimport itemEvents from '../items/item-event';\r\nimport hvh_h from './hvh-h.js';\r\nimport hvh from './hvh.js';\r\n\r\n\r\n\r\nfunction drawShape (cfg, group) {\r\n  group.running = false;\r\n  group.runners = [];\r\n\r\n  const shapeStyle = Object.assign({}, this.getShapeStyle(cfg), {\r\n    ...cfg.edgeStateStyles,\r\n  });\r\n\r\n  const keyShape = group.addShape('path', {\r\n    className: 'edge-shape',\r\n    name:      'edge-shape',\r\n    attrs:     shapeStyle,\r\n  });\r\n\r\n  return keyShape;\r\n}\r\n\r\nfunction setState (name, value, item) {\r\n  const buildInEvents = [\r\n    'edgeState',\r\n    'edgeState:default',\r\n    'edgeState:selected',\r\n    'edgeState:hover',\r\n  ];\r\n  const group = item.getContainer();\r\n\r\n  if (group.get('destroyed')) return;\r\n  if (buildInEvents.includes(name)) {\r\n\r\n    itemEvents[name].call(this, value, group);\r\n  } else if (this.stateApplying) {\r\n    this.stateApplying.call(this, name, value, item);\r\n  } else {\r\n    console.warn(`warning: edge ${name} 事件回调未注册!`);\r\n  }\r\n}\r\n\r\nfunction runAnimate (group, animationType) {\r\n  if (group.running) return;\r\n  // group.running = true;\r\n  // group.toFront();\r\n  // animation[animationType].run.call(this, group);\r\n}\r\n// function runAnimate (group, animationType) {\r\n//   if (group.running) return;\r\n//   group.running = true;\r\n//   group.toFront();\r\n//   animation[animationType].run.call(this, group);\r\n// }\r\n\r\n\r\nfunction stopAnimate (group, animationType) {\r\n  animation[animationType].stop.call(this, group);\r\n}\r\n\r\n// function stopAnimate (group, animationType) {\r\n//   animation[animationType].stop.call(this, group);\r\n// }\r\n\r\n\r\nfunction inheritEdge (G6, name) {\r\n  G6.registerEdge(`${name}-edge`, {\r\n    drawShape,\r\n    setState,\r\n    runAnimate,\r\n    stopAnimate,\r\n  }, name);\r\n}\r\n\r\nexport default (G6) => {\r\n  const edgeArray = ['line', 'polyline', 'quadratic', 'cubic', 'arc'];\r\n\r\n  edgeArray.forEach(edge => {\r\n    inheritEdge(G6, edge);\r\n  });\r\n\r\n  hvh(G6, {\r\n    drawShape,\r\n    setState,\r\n    runAnimate,\r\n    stopAnimate,\r\n  });\r\n  hvh_h(G6, {\r\n    drawShape,\r\n    setState,\r\n    runAnimate,\r\n    stopAnimate,\r\n  });\r\n};\r\n"],"mappings":"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"}]}